/*!
 * NevWare21 - ts-async, 0.4.0
 * https://github.com/nevware21/ts-async
 * Copyright (c) NevWare21 and contributors. All rights reserved.
 * Licensed under the MIT license.
 */
!function(){"use strict";var b=void 0,d=null,D="",F="object",n="prototype",t="undefined",o="Symbol",J="_polyfill",L="length",r="slice",e=Object,i=e[n],N=String,u=Array,n=u[n];function U(t){return function(n){return typeof n===t}}function q(n){return i.toString.call(n)}function m(n){return typeof n===t||n===t}var w=U("function");function B(n){return(n||n!==d&&!m(n))&&n&&typeof n===F}function G(n){return!(!n||"[object Error]"!==q(n))}var H=u.isArray,K=U("number");function E(n){return n&&w(n.then)}var M=e.getOwnPropertyDescriptor,Q=e.hasOwn||function(n,t){return n&&i.hasOwnProperty.call(n,t)||!!M(n,t)};function z(n,t,r){if(n&&B(n))for(var e in n)if(Q(n,e)&&-1===t.call(r||n,e,n[e]))break}function V(n){throw new TypeError(n)}var c=e.freeze,u=c||function(n){return n},f={};z({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12},function(n,t){f[n]=n,f[t]=n});C=f,c&&z(C,function(n,t){(H(t)||B(t))&&c(t)});var a,W=u(C),X=N,Y="__tsUtils$gblCfg";function Z(){var n;return(n=(n=(n=typeof globalThis!==t?globalThis:n)||typeof self===t?n:self)||typeof window===t?n:window)||typeof global===t?n:global}function P(n,t){var r=D;if(G(n))r="{ stack: '"+n.stack+"', message: '"+n.message+"', name: '"+n.name+"'";else try{r=JSON.stringify(n,d,t?K(t)?t:4:b)}catch(n){r=" - "+P(n,t)}return q(n)+": "+r}var S,nn=n[r],tn={},rn={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"},j=e.defineProperty,l=function(){var n;a||(n=Z()||{},a=n[Y]=n[Y]||{}),S=a,l=d};function _(r,e){return t=function(){var n=r,t=e;try{t=n()}catch(n){}return t},o={},l&&l(),o.b=S.lzy,j(o,"v",{configurable:!0,get:function(){var n=t();return S.lzy||(j(o,"v",{value:n}),o.b&&delete o.b),S.lzy&&o.b!==S.lzy&&(o.b=S.lzy),n}}),o;var t,o}function en(n,t){t=s&&!1!==t?s.v:an(t);return t&&t[n]?t[n]:n===fn&&v?v.v:d}var s,v,T,on,h,un,cn,fn="window",$=function(n){return _(function(){return en(n)||b},b)},an=function(n){return(s=!s||!1===n||S&&S.lzy&&!s.b?_(Z,d):s).v},ln=function(){return(v=!v||S&&S.lzy&&!v.b?$(fn):v).v},sn=function(){return(on=on||_(function(){return!(!process||!(process.versions||{}).node)},!1)).v};function vn(n){return _(function(){return h.v?h.v[n]:b},b)}function hn(){var n=!h||S&&S.lzy&&!h.b;return n&&(h=$(o)),un&&!n||(un=vn("for")),cn&&!n||(cn=vn("keyFor")),h.v}function yn(n,t){var r,e=W[n];return h&&(!S.lzy||h.b)||hn(),h.v?h.v[e||n]:t?b:(e=W[n])?tn[e]=tn[e]||((t={description:X(r=o+"."+e),toString:function(){return o+"("+r+")"}})[J]=!0,t):void 0}function O(n){return n[pn].apply(n,nn.call(arguments,1))}var pn="apply";function gn(n,t,r){if(n)for(var e=n[L]>>>0,o=0;o<e&&!(o in n&&-1===t.call(r||n,n[o],o,n));o++);}var y=r,bn=n&&n[y],k=function(n){var t=n&&n[y]||bn;if(t)return t.apply(n,nn.call(arguments,1));t=n,V("'"+X(y)+"' not defined for "+P(t))},I="unref",dn="hasRef",mn="enabled";function wn(){return e=this,o=b,i=k(arguments),v=(s=H(o))?o.length:0,h=(0<v?o[0]:s?b:o)||setTimeout,y=(1<v?o[1]:b)||clearTimeout,p=i[0],i[0]=function(){g.dn(),O(p,e,k(arguments))},c=function(n){O(y,e,[n])},a=!0,l=(u=function(n){if(n){if(n.refresh)return n.refresh(),n;O(y,e,[n])}return O(h,e,i)})(d),(s={cancel:r,refresh:t,hasRef:function(){return l&&l[dn]?l[dn]():a},ref:function(){return a=!0,l&&l.ref&&l.ref(),f}})[I]=n,s[mn]=!1,j(f=s,mn,{get:function(){return!!l},set:function(n){!n&&l&&r(),n&&!l&&t()}}),(g={h:f,dn:function(){l=d}}).h;function n(){return a=!1,l&&l[I]&&l[I](),f}function t(){return l=u(l),a||n(),f}function r(){l&&c(l),l=d}var e,o,i,u,c,f,a,l,s,v,h,y,p,g}var R,A,En=["pending","resolving","resolved","rejected"],zn="dispatchEvent",Pn="Promise",Sn="unhandledRejection",jn=Sn.toLowerCase(),_n=[],Tn=0,$n=10;function On(n){return w(n)?n.toString():P(n)}function p(n,t){return function(n,t,r){function e(o,i){try{return _n.push(h),y=!0,p&&p.cancel(),p=null,n(function(r,e){v.push(function(){try{var n=2===l?o:i,t=m(n)?f:w(n)?n(f):n;E(t)?t.then(r,e):(n||3!==l?r:e)(t)}catch(n){e(n)}}),s&&u()},a)}finally{_n.pop()}}function o(){return En[l]}function u(){var n;0<v.length&&(n=v.slice(),v=[],y=!0,t(n),p&&p.cancel(),p=null)}function i(t,r){return function(n){l===r&&(2===t&&E(n)?(l=1,n.then(i(2,1),i(3,1))):(l=t,s=!0,f=n,u(),y||3!==t||(p=p||wn(c,$n))))}}function c(){var n,t,r,e,o;y||(sn()?process.emit(Sn,f,g):(r=ln()||an(),n=jn,o=function(n){return j(n,"promise",(e={configurable:!0,enumerable:!0},(t={g:function(){return g}}).l&&(e.get=function(){return t.l.v},r=M(t.l,"v"))&&r.set&&(e.set=function(n){t.l.v=n}),z(t,function(n,t){e[rn[n]]=m(t)?e[rn[n]]:t}),e)),n.reason=f,n;var t,r,e},t=!!A.v,e=(T=!T||S&&S.lzy&&!T.b?$("document"):T).v,o(o=(R=R||_(function(){var n;return!!(n=e&&e.createEvent?e.createEvent("Event"):n)&&n.initEvent},null)).v?e.createEvent("Event"):t?new Event(n):{}),R.v&&o.initEvent(n,!1,!0),o&&r[zn]?r[zn](o):(t=r["on"+n])?t(o):(r=en("console"))&&(r.error||r.log)(n,P(o))))}var f,a=k(arguments,3),l=0,s=!1,v=[],h=Tn++,y=!1,p=null,g=(A=A||$(Pn+"RejectionEvent"),{then:e,catch:function(n){return e(void 0,n)},finally:function(t){var n=t,r=t;return w(t)&&(n=function(n){return t&&t(),n},r=function(n){throw t&&t(),n}),e(n,r)}}),b=(j(g,"state",{get:o}),hn()&&(g[yn(11)]="IPromise"),g.toString=function(){return"IPromise "+o()+(s?" - "+On(f):"")},w(r)||V(Pn+": executor is not a function - "+On(r)),i(3,0));try{r.call(g,i(2,0),b)}catch(n){b(n)}return g}(p,(e=K(r=t)?r:0,function(n){wn(function(){gn(n,function(n){try{n()}catch(n){}})},e)}),n,t);var r,e}function kn(n){var t=k(arguments,1);return An(function(o,i){try{var u=[],c=1;gn(n,function(n,t){var r,e;n&&(c++,r=function(n){u[t]=n,0==--c&&o(u)},e=i,E(n=n)?n.then(r,e):r(n))}),0==--c&&o(u)}catch(n){i(n)}},t)}function In(t){var n=k(arguments,1);return E(t)?t:Cn(function(n){n(t)},n)}function Rn(r){var n=k(arguments,1);return xn(function(n,t){t(r)},n)}var An,Cn,g,xn=Cn=An=p,Dn=yn(11),C=(x.all=kn,x.reject=Rn,x.resolve=In,(u=x.prototype).then=function(n,t){return this._$.then(n,t)},u.catch=function(n){return this._$.catch(n)},u.finally=function(n){return this._$.finally(n)},x);function x(n){this._$=p(n),Dn&&(this[Dn]="Promise"),j(this,"state",{get:function(){return this._$.state}})}Promise?(g=Promise)&&z({all:kn,resolved:In,rejected:Rn},function(n,t){g[n]||(g[n]=t)}):Promise=C}();
//# sourceMappingURL=ts-polyfills-async.min.js.map
