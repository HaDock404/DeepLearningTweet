/*!
 * Application Insights JavaScript SDK - Common, 3.1.0
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
"use strict";var UNDEF_VALUE=undefined,NULL_VALUE=null,EMPTY="",FUNCTION="function",NUMBER="number",OBJECT="object",PROTOTYPE="prototype",__PROTO__="__proto__",STRING="string",UNDEFINED="undefined",CONSTRUCTOR="constructor",SYMBOL="Symbol",POLYFILL_TAG="_polyfill",INDEX_OF="indexOf",LENGTH="length",VALUE="value",NAME="name",SLICE="slice",CALL="call",TO_STRING="toString",ObjClass$1=Object,ObjProto$1=ObjClass$1[PROTOTYPE],StrCls=String,StrProto=StrCls[PROTOTYPE],MathCls=Math,ArrCls=Array,ArrProto=ArrCls[PROTOTYPE];function safe(e,t){try{return{v:e.apply(this,t)}}catch(r){return{e:r}}}function _createIs(t){return function(e){return typeof e===t}}function _createObjIs(e){var t="[object "+e+"]";return function(e){return!(!e||objToString(e)!==t)}}function objToString(e){return ObjProto$1.toString.call(e)}function isUndefined(e){return typeof e===UNDEFINED||e===UNDEFINED}function isNullOrUndefined(e){return e===NULL_VALUE||isUndefined(e)}function isDefined(e){return!!e||e!==UNDEF_VALUE}var isString=_createIs(STRING),isFunction=_createIs(FUNCTION);function isObject(e){return!(!e&&isNullOrUndefined(e)||!e||typeof e!==OBJECT)}var isArray=ArrCls.isArray,isError=_createObjIs("Error"),objGetOwnPropertyDescriptor=ObjClass$1.getOwnPropertyDescriptor;function objHasOwnProperty(e,t){return!!e&&ObjProto$1.hasOwnProperty[CALL](e,t)}var objHasOwn=ObjClass$1.hasOwn||polyObjHasOwn;function polyObjHasOwn(e,t){return objHasOwnProperty(e,t)||!!objGetOwnPropertyDescriptor(e,t)}function objForEachKey(e,t,r){if(e&&isObject(e))for(var n in e)if(objHasOwn(e,n)&&-1===t[CALL](r||e,n,e[n]))break}function _createKeyValueMap(e,r,n,t){var a={};return objForEachKey(e,function(e,t){a[e]=r?t:e,a[t]=n?t:e}),t(a)}function throwError(e){throw Error(e)}function throwTypeError(e){throw new TypeError(e)}var _objFreeze=ObjClass$1.freeze;function _doNothing(e){return e}function _getProto(e){return e[__PROTO__]||NULL_VALUE}var objAssign=ObjClass$1.assign,objKeys=ObjClass$1.keys;function objDeepFreeze(e){return _objFreeze&&objForEachKey(e,function(e,t){(isArray(t)||isObject(t))&&_objFreeze(t)}),objFreeze(e)}var objFreeze=_objFreeze||_doNothing,objGetPrototypeOf=ObjClass$1.getPrototypeOf||_getProto;function createEnum(e){return _createKeyValueMap(e,1,0,objDeepFreeze)}function createSimpleMap(e){var r={};return objForEachKey(e,function(e,t){r[e]=t[1],r[t[0]]=t[1]}),objDeepFreeze(r)}function createTypeMap(e){return createSimpleMap(e)}var _globalCfg,asString=StrCls,GLOBAL_CONFIG_KEY="__tsUtils$gblCfg";function _getGlobalValue(){var e;return(e=(e=(e=typeof globalThis!==UNDEFINED?globalThis:e)||typeof self===UNDEFINED?e:self)||typeof window===UNDEFINED?e:window)||typeof global===UNDEFINED?e:global}function _getGlobalConfig(){var e;return _globalCfg||(e=safe(_getGlobalValue).v||{},_globalCfg=e[GLOBAL_CONFIG_KEY]=e[GLOBAL_CONFIG_KEY]||{}),_globalCfg}var _slice,ERROR_TYPE="[object Error]";function dumpObj(e,t){var r=EMPTY,n=ObjProto$1[TO_STRING][CALL](e);n===ERROR_TYPE&&(e={stack:asString(e.stack),message:asString(e.message),name:asString(e.name)});try{r=(r=JSON.stringify(e,NULL_VALUE,t?typeof t===NUMBER?t:4:UNDEF_VALUE))&&r.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||asString(e)}catch(a){r=" - "+dumpObj(a,t)}return n+": "+r}var _unwrapInstFunction=_unwrapFunctionWithPoly,_unwrapFunction=_unwrapFunctionWithPoly;function _unwrapFunctionWithPoly(n,e,a){_slice=_slice||ArrProto[SLICE];var o=e&&e[n];return function(e){var t,r=e&&e[n]||o;if(r||a)return t=arguments,(r||a).apply(e,r?_slice[CALL](t,1):t);throwTypeError('"'+asString(n)+'" not defined for '+dumpObj(e))}}var mathMax=MathCls.max,strSlice=_unwrapFunction(SLICE,StrProto),strSubstring=_unwrapFunction("substring",StrProto),strSubstr=_unwrapFunctionWithPoly("substr",StrProto,polyStrSubstr);function polyStrSubstr(e,t,r){return isNullOrUndefined(e)&&throwTypeError("'polyStrSubstr called with invalid "+dumpObj(e)),r<0?EMPTY:((t=t||0)<0&&(t=mathMax(t+e[LENGTH],0)),isUndefined(r)?strSlice(e,t):strSlice(e,t,t+r))}function strLeft(e,t){return strSubstring(e,0,t)}var _polySymbols,UNIQUE_REGISTRY_ID="_urid";function _globalSymbolRegistry(){var e;return _polySymbols||(e=_getGlobalConfig(),_polySymbols=e.gblSym=e.gblSym||{k:{},s:{}}),_polySymbols}function polyNewSymbol(e){var t={description:asString(e),toString:function(){return SYMBOL+"("+e+")"}};return t[POLYFILL_TAG]=!0,t}function polySymbolFor(e){var t,r,n=_globalSymbolRegistry();return objHasOwn(n.k,e)||(t=polyNewSymbol(e),r=objKeys(n.s).length,t[UNIQUE_REGISTRY_ID]=function(){return r+"_"+t[TO_STRING]()},n.k[e]=t,n.s[t[UNIQUE_REGISTRY_ID]()]=asString(e)),n.k[e]}var propMap={e:"enumerable",c:"configurable",v:VALUE,w:"writable",g:"get",s:"set"};function _createProp(t){var e,r={};return r[propMap.c]=!0,r[propMap.e]=!0,t.l&&(r.get=function(){return t.l.v},(e=objGetOwnPropertyDescriptor(t.l,"v"))&&e.set&&(r.set=function(e){t.l.v=e})),objForEachKey(t,function(e,t){r[propMap[e]]=isUndefined(t)?r[propMap[e]]:t}),r}var _globalLazyTestHooks,objDefineProp=ObjClass$1.defineProperty;function objDefine(e,t,r){return objDefineProp(e,t,_createProp(r))}function _initTestHooks(){_globalLazyTestHooks=_getGlobalConfig()}function getLazy(t){var r={};return _globalLazyTestHooks||_initTestHooks(),r.b=_globalLazyTestHooks.lzy,objDefineProp(r,"v",{configurable:!0,get:function(){var e=t();return _globalLazyTestHooks.lzy||objDefineProp(r,"v",{value:e}),r.b=_globalLazyTestHooks.lzy,e}}),r}function safeGetLazy(t,r){return getLazy(function(){var e=safe(t);return e.e?r:e.v})}function createCachedValue(e){return objDefineProp({toJSON:function(){return e}},"v",{value:e})}var _cachedGlobal,_cachedWindow,_cachedDocument,_cachedNavigator,_symbol,_symbolFor,WINDOW="window";function lazySafeGetInst(e){return getLazy(function(){return safe(getInst,[e]).v||UNDEF_VALUE})}function getGlobal(e){return _globalLazyTestHooks||_initTestHooks(),(_cachedGlobal=_cachedGlobal&&!1!==e&&!_globalLazyTestHooks.lzy?_cachedGlobal:createCachedValue(safe(_getGlobalValue).v||NULL_VALUE)).v}function getInst(e,t){t=_cachedGlobal&&!1!==t?_cachedGlobal.v:getGlobal(t);return t&&t[e]?t[e]:e===WINDOW&&_cachedWindow?_cachedWindow.v:NULL_VALUE}function getDocument(){return _globalLazyTestHooks||_initTestHooks(),(_cachedDocument=_cachedDocument&&!_globalLazyTestHooks.lzy?_cachedDocument:createCachedValue(safe(getInst,["document"]).v)).v}function hasWindow(){return!!getWindow()}function getWindow(){return _globalLazyTestHooks||_initTestHooks(),(_cachedWindow=_cachedWindow&&!_globalLazyTestHooks.lzy?_cachedWindow:createCachedValue(safe(getInst,[WINDOW]).v)).v}function hasNavigator(){return!!getNavigator()}function getNavigator(){return _globalLazyTestHooks||_initTestHooks(),(_cachedNavigator=_cachedNavigator&&!_globalLazyTestHooks.lzy?_cachedNavigator:createCachedValue(safe(getInst,["navigator"]).v)).v}function _initSymbol(){_symbol&&_symbol.b||(_symbol=lazySafeGetInst(SYMBOL),_symbolFor=safeGetLazy(function(){return _symbol.v?_symbol.v["for"]:UNDEF_VALUE},UNDEF_VALUE))}function newSymbol(e,t){return _globalLazyTestHooks||_initTestHooks(),_symbol&&!_globalLazyTestHooks.lzy||_initSymbol(),_symbol.v?_symbol.v(e):t?NULL_VALUE:polyNewSymbol(e)}function symbolFor(e){return _globalLazyTestHooks||_initTestHooks(),_symbolFor&&_symbol&&!_globalLazyTestHooks.lzy||_initSymbol(),(_symbolFor.v||polySymbolFor)(e)}var fnApply=_unwrapInstFunction("apply");function arrForEach(e,t,r){if(e)for(var n=e[LENGTH]>>>0,a=0;a<n&&!(a in e&&-1===t[CALL](r||e,e[a],a,e));a++);}var _isProtoArray,arrIndexOf=_unwrapFunction(INDEX_OF,ArrProto),arrMap=_unwrapFunction("map",ArrProto),arrReduce=_unwrapFunction("reduce",ArrProto),objCreate=ObjClass$1.create||polyObjCreate;function polyObjCreate(e){if(!e)return{};var t=typeof e;function r(){}return t!==OBJECT&&t!==FUNCTION&&throwTypeError("Prototype must be an Object or function: "+dumpObj(e)),r[PROTOTYPE]=e,new r}function objSetPrototypeOf(e,t){return(ObjClass$1.setPrototypeOf||function(r,e){(_isProtoArray=_isProtoArray||getLazy(function(){var e={};return e[__PROTO__]=[],e instanceof Array})).v?r[__PROTO__]=e:objForEachKey(e,function(e,t){return r[e]=t})})(e,t)}function _createCustomError(e,t,r){function n(){this.constructor=t,safe(objDefine,[this,NAME,{v:e,c:!0,e:!1}])}return safe(objDefine,[t,NAME,{v:e,c:!0,e:!1}]),(t=objSetPrototypeOf(t,r))[PROTOTYPE]=r===NULL_VALUE?objCreate(r):(n[PROTOTYPE]=r[PROTOTYPE],new n),t}function _setName(e,t){t&&(e[NAME]=t)}function createCustomError(a,o,e){var i=e||Error,s=i[PROTOTYPE][NAME],_=Error.captureStackTrace;return _createCustomError(a,function(){var e=this,t=arguments;try{safe(_setName,[i,a]);var r,n=fnApply(i,e,ArrProto[SLICE][CALL](t))||e;return n!==e&&(r=objGetPrototypeOf(e))!==objGetPrototypeOf(n)&&objSetPrototypeOf(n,r),_&&_(n,e[CONSTRUCTOR]),o&&o(n,t),n}finally{safe(_setName,[i,s])}},i)}function utcNow(){return(Date.now||polyUtcNow)()}function polyUtcNow(){return(new Date).getTime()}function _createTrimFn(t){return function(e){return isNullOrUndefined(e)&&throwTypeError("strTrim called ["+dumpObj(e)+"]"),e&&e.replace?e.replace(t,EMPTY):e}}var _fnToString,_objCtrFnString,_gblWindow,_perf,polyStrTrim=_createTrimFn(/^\s+|(?=\s)\s+$/g),strTrim=_unwrapFunctionWithPoly("trim",StrProto,polyStrTrim);function isPlainObject(e){if(!e||typeof e!==OBJECT)return!1;var t=!1;if(e!==(_gblWindow=_gblWindow||!hasWindow()||getWindow())){_objCtrFnString||(_fnToString=Function[PROTOTYPE][TO_STRING],_objCtrFnString=_fnToString[CALL](ObjClass$1));try{var r=objGetPrototypeOf(e),t=(t=!r)||(r=objHasOwnProperty(r,CONSTRUCTOR)?r[CONSTRUCTOR]:r)&&typeof r===FUNCTION&&_fnToString[CALL](r)===_objCtrFnString}catch(n){}}return t}function getPerformance(){return _globalLazyTestHooks||_initTestHooks(),(_perf=!_perf||!_perf.b&&_globalLazyTestHooks.lzy?lazySafeGetInst("performance"):_perf).v}var strEndsWith=_unwrapFunctionWithPoly("endsWith",StrProto,polyStrEndsWith);function polyStrEndsWith(e,t,r){isString(e)||throwTypeError("'"+dumpObj(e)+"' is not a string");t=isString(t)?t:asString(t),r=!isUndefined(r)&&r<e[LENGTH]?r:e[LENGTH];return strSubstring(e,r-t[LENGTH],r)===t}var strIndexOf=_unwrapFunction(INDEX_OF,StrProto),REF="ref",UNREF="un"+REF,HAS_REF="hasRef",ENABLED="enabled";function _createTimerHandler(e,t,r){var n,a=!0,o=e?t(NULL_VALUE):NULL_VALUE,i=function(){return a=!1,o&&o[UNREF]&&o[UNREF](),n},s=function(){return o=t(o),a||i(),n},_=function(){o&&r(o),o=NULL_VALUE},e={cancel:_,refresh:s};return e[HAS_REF]=function(){return o&&o[HAS_REF]?o[HAS_REF]():a},e[REF]=function(){return a=!0,o&&o[REF]&&o[REF](),n},e[UNREF]=i,e[ENABLED]=!1,objDefineProp(n=e,ENABLED,{get:function(){return!!o},set:function(e){!e&&o&&_(),e&&!o&&s()}}),{h:n,dn:function(){o=NULL_VALUE}}}function _createTimeoutWith(t,e,r,n){var a=isArray(r),o=a?r.length:0,i=(0<o?r[0]:a?UNDEF_VALUE:r)||setTimeout,s=(1<o?r[1]:UNDEF_VALUE)||clearTimeout,_=n[0],c=(n[0]=function(){c.dn(),fnApply(_,t,ArrProto[SLICE][CALL](arguments))},_createTimerHandler(e,function(e){if(e){if(e.refresh)return e.refresh(),e;fnApply(s,t,[e])}return fnApply(i,t,n)},function(e){fnApply(s,t,[e])}));return c.h}function scheduleTimeout(e,t){return _createTimeoutWith(this,!0,UNDEF_VALUE,ArrProto[SLICE][CALL](arguments))}var aggregationErrorType,createEnumStyle=createEnum,createValueMap=createTypeMap,_DYN_TO_LOWER_CASE$1="toLowerCase",_DYN_BLK_VAL="blkVal",_DYN_LENGTH$1="length",_DYN_RD_ONLY="rdOnly",_DYN_NOTIFY="notify",_DYN_WARN_TO_CONSOLE="warnToConsole",_DYN_THROW_INTERNAL="throwInternal",_DYN_SET_DF="setDf",_DYN_WATCH="watch",_DYN_LOGGER="logger",_DYN_APPLY="apply",_DYN_PUSH$1="push",_DYN_SPLICE="splice",_DYN_HDLR="hdlr",_DYN_CANCEL="cancel",_DYN_NAME$1="name",_DYN_UNLOAD="unload",_DYN_VERSION="version",_DYN_LOGGING_LEVEL_CONSOL4="loggingLevelConsole",_DYN_MESSAGE_ID="messageId",_DYN_MESSAGE$1="message",_DYN_DIAG_LOG="diagLog",_DYN_USER_AGENT="userAgent",_DYN_SPLIT$1="split",_DYN_NODE_TYPE="nodeType",_DYN_REPLACE="replace",_DYN_LOG_INTERNAL_MESSAGE="logInternalMessage",_DYN_TYPE="type",_DYN_HANDLER="handler",_DYN_TRACE_ID="traceId",_DYN_SPAN_ID="spanId",_DYN_TRACE_FLAGS="traceFlags";function throwAggregationError(e,t){aggregationErrorType=aggregationErrorType||createCustomError("AggregationError",function(e,t){1<t[_DYN_LENGTH$1]&&(e.errors=t[1])});var r=e||"One or more errors occurred.";throw arrForEach(t,function(e,t){r+="\n".concat(t," > ").concat(dumpObj(e))}),new aggregationErrorType(r,t||[])}var _a$1,strShimFunction="function",strShimObject="object",strShimUndefined="undefined",strShimPrototype="prototype",ObjClass=Object,ObjProto=ObjClass[strShimPrototype],strHasOwnProperty="hasOwnProperty",__objAssignFnImpl=function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])ObjProto[strHasOwnProperty].call(t,a)&&(e[a]=t[a]);return e},__assignFn=objAssign||__objAssignFnImpl,extendStaticsFn=function(e,t){return(extendStaticsFn=ObjClass.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t[strHasOwnProperty](r)&&(e[r]=t[r])})(e,t)};function __extendsFn(e,t){function r(){this.constructor=e}typeof t!==strShimFunction&&null!==t&&throwTypeError("Class extends value "+t+" is not a constructor or null"),extendStaticsFn(e,t),e[strShimPrototype]=null===t?objCreate(t):(r[strShimPrototype]=t[strShimPrototype],new r)}var Constructor="constructor",Prototype="prototype",strFunction="function",DynInstFuncTable="_dynInstFuncs",DynProxyTag="_isDynProxy",DynClassName="_dynClass",DynClassNamePrefix="_dynCls$",DynInstChkTag="_dynInstChk",DynAllowInstChkTag=DynInstChkTag,DynProtoDefaultOptions="_dfOpts",UnknownValue="_unknown_",str__Proto="__proto__",DynProtoBaseProto="_dyn"+str__Proto,DynProtoGlobalSettings="__dynProto$Gbl",DynProtoCurrent="_dynInstProto",strUseBaseInst="useBaseInst",strSetInstFuncs="setInstFuncs",Obj=Object,_objGetPrototypeOf=Obj.getPrototypeOf,_objGetOwnProps=Obj.getOwnPropertyNames,_gbl=getGlobal(),_gblInst=_gbl[DynProtoGlobalSettings]||(_gbl[DynProtoGlobalSettings]={o:((_a$1={})[strSetInstFuncs]=!0,_a$1[strUseBaseInst]=!0,_a$1),n:1e3});function _isObjectOrArrayPrototype(e){return e&&(e===Obj[Prototype]||e===Array[Prototype])}function _isObjectArrayOrFunctionPrototype(e){return _isObjectOrArrayPrototype(e)||e===Function[Prototype]}function _getObjProto(e){if(e){if(_objGetPrototypeOf)return _objGetPrototypeOf(e);var t=e[str__Proto]||e[Prototype]||(e[Constructor]?e[Constructor][Prototype]:null),r=e[DynProtoBaseProto]||t;objHasOwnProperty(e,DynProtoBaseProto)||(delete e[DynProtoCurrent],r=e[DynProtoBaseProto]=e[DynProtoCurrent]||e[DynProtoBaseProto],e[DynProtoCurrent]=t)}return r}function _forEachProp(e,t){var r=[];if(_objGetOwnProps)r=_objGetOwnProps(e);else for(var n in e)"string"==typeof n&&objHasOwnProperty(e,n)&&r.push(n);if(r&&0<r.length)for(var a=0;a<r.length;a++)t(r[a])}function _isDynamicCandidate(e,t,r){return t!==Constructor&&typeof e[t]===strFunction&&(r||objHasOwnProperty(e,t))&&t!==str__Proto&&t!==Prototype}function _throwTypeError(e){throwTypeError("DynamicProto: "+e)}function _getInstanceFuncs(t){var r=objCreate(null);return _forEachProp(t,function(e){!r[e]&&_isDynamicCandidate(t,e,!1)&&(r[e]=t[e])}),r}function _hasVisited(e,t){for(var r=e.length-1;0<=r;r--)if(e[r]===t)return!0;return!1}function _getBaseFuncs(e,t,r,o){function n(e,t,r){var n,a=t[r];return a[DynProxyTag]&&o&&!1!==(n=e[DynInstFuncTable]||{})[DynAllowInstChkTag]&&(a=(n[t[DynClassName]]||{})[r]||a),function(){return a.apply(e,arguments)}}for(var a=objCreate(null),i=(_forEachProp(r,function(e){a[e]=n(t,r,e)}),_getObjProto(e)),s=[];i&&!_isObjectArrayOrFunctionPrototype(i)&&!_hasVisited(s,i);)_forEachProp(i,function(e){!a[e]&&_isDynamicCandidate(i,e,!_objGetPrototypeOf)&&(a[e]=n(t,i,e))}),s.push(i),i=_getObjProto(i);return a}function _getInstFunc(e,t,r,n){var a=null;if(e&&objHasOwnProperty(r,DynClassName)){var o=e[DynInstFuncTable]||objCreate(null);if((a=(o[r[DynClassName]]||objCreate(null))[t])||_throwTypeError("Missing ["+t+"] "+strFunction),!a[DynInstChkTag]&&!1!==o[DynAllowInstChkTag]){for(var i=!objHasOwnProperty(e,t),s=_getObjProto(e),_=[];i&&s&&!_isObjectArrayOrFunctionPrototype(s)&&!_hasVisited(_,s);){var c=s[t];if(c){i=c===n;break}_.push(s),s=_getObjProto(s)}try{i&&(e[t]=a),a[DynInstChkTag]=1}catch(u){o[DynAllowInstChkTag]=!1}}}return a}function _getProtoFunc(e,t,r){var n=t[e];return typeof(n=n===r?_getObjProto(t)[e]:n)!==strFunction&&_throwTypeError("["+e+"] is not a "+strFunction),n}function _populatePrototype(a,e,o,i,t){var r,s;_isObjectOrArrayPrototype(a)||_isObjectOrArrayPrototype(r=o[DynInstFuncTable]=o[DynInstFuncTable]||objCreate(null))||(s=r[e]=r[e]||objCreate(null),!1!==r[DynAllowInstChkTag]&&(r[DynAllowInstChkTag]=!!t),_isObjectOrArrayPrototype(s)||_forEachProp(o,function(e){var t,r,n;_isDynamicCandidate(o,e,!1)&&o[e]!==i[e]&&(s[e]=o[e],delete o[e],objHasOwnProperty(a,e)&&(!a[e]||a[e][DynProxyTag])||(a[e]=(t=a,r=e,(n=function(){return(_getInstFunc(this,r,t,n)||_getProtoFunc(r,t,n)).apply(this,arguments)})[DynProxyTag]=1,n)))}))}function _checkPrototype(e,t){if(_objGetPrototypeOf){for(var r=[],n=_getObjProto(t);n&&!_isObjectArrayOrFunctionPrototype(n)&&!_hasVisited(r,n);){if(n===e)return!0;r.push(n),n=_getObjProto(n)}return!1}return!0}function _getObjName(e,t){return objHasOwnProperty(e,Prototype)?e.name||t||UnknownValue:((e||{})[Constructor]||{}).name||t||UnknownValue}function dynamicProto(e,t,r,n){objHasOwnProperty(e,Prototype)||_throwTypeError("theClass is an invalid class definition.");var a=e[Prototype],o=(_checkPrototype(a,t)||_throwTypeError("["+_getObjName(e)+"] not in hierarchy of ["+_getObjName(t)+"]"),null),e=(objHasOwnProperty(a,DynClassName)?o=a[DynClassName]:(o=DynClassNamePrefix+_getObjName(e,"_")+"$"+_gblInst.n,_gblInst.n++,a[DynClassName]=o),dynamicProto[DynProtoDefaultOptions]),i=!!e[strUseBaseInst],s=(i&&n&&n[strUseBaseInst]!==undefined&&(i=!!n[strUseBaseInst]),_getInstanceFuncs(t)),i=(r(t,_getBaseFuncs(a,t,s,i)),!!_objGetPrototypeOf&&!!e[strSetInstFuncs]);_populatePrototype(a,o,t,s,!1!==(i=i&&n?!!n[strSetInstFuncs]:i))}dynamicProto[DynProtoDefaultOptions]=_gblInst.o;var UNDEFINED_VALUE=undefined,STR_EMPTY="",STR_NOT_DYNAMIC_ERROR="Not dynamic - ",rCamelCase=/-([a-z])/g,rNormalizeInvalid=/([^\w\d_$])/g,rLeadingNumeric=/^(\d+[\w\d_$])/;function isNotNullOrUndefined(e){return!isNullOrUndefined(e)}function normalizeJsName(e){return e&&isString(e)?(e=(e=e[_DYN_REPLACE](rCamelCase,function(e,t){return t.toUpperCase()}))[_DYN_REPLACE](rNormalizeInvalid,"_"))[_DYN_REPLACE](rLeadingNumeric,function(e,t){return"_"+t}):e}function strContains(e,t){return!(!e||!t)&&-1!==strIndexOf(e,t)}function toISOString(e){return e&&e.toISOString()||""}function getExceptionName(e){return isError(e)?e[_DYN_NAME$1]:STR_EMPTY}function createClassFromInterface(e){return function(){var r=this;e&&objForEachKey(e,function(e,t){r[e]=t})}}var strConsole="console",strJSON="JSON",strCrypto="crypto",strMsCrypto="msCrypto",strMsie="msie",strTrident="trident/",_isTrident=null,_navUserAgentCheck=null,_beaconsSupported=null;function getConsole(){return typeof console!==strShimUndefined?console:getInst(strConsole)}function hasJSON(){return!!(typeof JSON===strShimObject&&JSON||null!==getInst(strJSON))}function getJSON(){return hasJSON()?JSON||getInst(strJSON):null}function getCrypto(){return getInst(strCrypto)}function getMsCrypto(){return getInst(strMsCrypto)}function isIE(){var e=getNavigator();return!e||e[_DYN_USER_AGENT]===_navUserAgentCheck&&null!==_isTrident||(e=((_navUserAgentCheck=e[_DYN_USER_AGENT])||STR_EMPTY)[_DYN_TO_LOWER_CASE$1](),_isTrident=strContains(e,strMsie)||strContains(e,strTrident)),_isTrident}function isBeaconsSupported(e){return _beaconsSupported=null!==_beaconsSupported&&!1!==e?_beaconsSupported:hasNavigator()&&!!getNavigator().sendBeacon}function _getNamedValue(e,t){if(e)for(var r=0;r<e[_DYN_LENGTH$1];r++){var n=e[r];if(n[_DYN_NAME$1]&&n[_DYN_NAME$1]===t)return n}return{}}function findMetaTag(e){var t=getDocument();return t&&e?_getNamedValue(t.querySelectorAll("meta"),e).content:null}function findNamedServerTiming(e){var t=getPerformance();return t?_getNamedValue((0<(t=t.getEntriesByType("navigation")||[])[_DYN_LENGTH$1]?t[0]:{}).serverTiming,e).description:void 0}var UInt32Mask=4294967296,MaxUInt32=4294967295,SEED1=123456789,SEED2=987654321,_mwcSeeded=!1,_mwcW=SEED1,_mwcZ=SEED2;function _mwcSeed(e){e<0&&(e>>>=0),_mwcW=SEED1+e&MaxUInt32,_mwcZ=SEED2-e&MaxUInt32,_mwcSeeded=!0}function _autoSeedMwc(){try{var e=2147483647&utcNow();_mwcSeed((Math.random()*UInt32Mask^e)+e)}catch(t){}}function randomValue(e){return 0<e?Math.floor(random32()/MaxUInt32*(e+1))>>>0:0}function random32(e){var t=0,r=getCrypto()||getMsCrypto();return 0===(t=r&&r.getRandomValues?r.getRandomValues(new Uint32Array(1))[0]&MaxUInt32:t)&&isIE()&&(_mwcSeeded||_autoSeedMwc(),t=mwcRandom32()&MaxUInt32),0===t&&(t=Math.floor(UInt32Mask*Math.random()|0)),e||(t>>>=0),t}function mwcRandom32(e){var t=((_mwcZ=36969*(65535&_mwcZ)+(_mwcZ>>16)&MaxUInt32)<<16)+(65535&(_mwcW=18e3*(65535&_mwcW)+(_mwcW>>16)&MaxUInt32))>>>0&MaxUInt32|0;return e||(t>>>=0),t}function newId(e){void 0===e&&(e=22);for(var t=random32()>>>0,r=0,n=STR_EMPTY;n[_DYN_LENGTH$1]<e;)n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&t]||"",t>>>=6,5==++r&&(t=(random32()<<2&4294967295|3&t)>>>0,r=0);return n}var version="3.0.5",instanceName="."+newId(6),_dataUid=0;function _canAcceptData(e){return 1===e[_DYN_NODE_TYPE]||9===e[_DYN_NODE_TYPE]||!+e[_DYN_NODE_TYPE]}function _getCache(e,t){var r=t[e.id];if(!r){r={};try{_canAcceptData(t)&&objDefine(t,e.id,{e:!1,v:r})}catch(n){}}return r}function createUniqueNamespace(e,t){return normalizeJsName(e+_dataUid+++((t=void 0!==t&&t)?"."+version:STR_EMPTY)+instanceName)}function createElmNodeData(e){var o={id:createUniqueNamespace("_aiData-"+(e||STR_EMPTY)+"."+version),accept:function(e){return _canAcceptData(e)},get:function(e,t,r,n){var a=e[o.id];return a?a[normalizeJsName(t)]:(n&&((a=_getCache(o,e))[normalizeJsName(t)]=r),r)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(r){}}};return o}function _isConfigDefaults(e){return e&&isObject(e)&&(e.isVal||e.fb||objHasOwn(e,"v")||objHasOwn(e,"mrg")||objHasOwn(e,"ref")||e.set)}function _getDefault(e,t,r){var n,a=r.dfVal||isDefined;if(t&&r.fb){var o=r.fb;isArray(o)||(o=[o]);for(var i=0;i<o[_DYN_LENGTH$1];i++){var s=o[i],_=t[s];if(a(_)?n=_:e&&(a(_=e.cfg[s])&&(n=_),e.set(e.cfg,asString(s),_)),a(n))break}}return!a(n)&&a(r.v)?r.v:n}function _resolveDefaultValue(r,n,e){var a,t=e;return(t=e&&_isConfigDefaults(e)?_getDefault(r,n,e):t)&&(_isConfigDefaults(t)&&(t=_resolveDefaultValue(r,n,t)),isArray(t)?(a=[])[_DYN_LENGTH$1]=t[_DYN_LENGTH$1]:isPlainObject(t)&&(a={}),a&&(objForEachKey(t,function(e,t){t&&_isConfigDefaults(t)&&(t=_resolveDefaultValue(r,n,t)),a[e]=t}),t=a)),t}function _applyDefaultValue(r,e,t,n){var a,o,i,s,_,c,u=n,u=_isConfigDefaults(u)?(a=u.isVal,o=u.set,_=u[_DYN_RD_ONLY],l=u[_DYN_BLK_VAL],i=u.mrg,!(s=u.ref)&&isUndefined(s)&&(s=!!i),_getDefault(r,e,u)):n,n=(l&&r[_DYN_BLK_VAL](e,t),!0),l=e[t];!l&&isNullOrUndefined(l)||(c=l,n=!1,a&&c!==u&&!a(c)&&(c=u,n=!0),o&&(n=(c=o(c,u,e))===u)),n?c=u&&_resolveDefaultValue(r,e,u):(isPlainObject(c)||isArray(u))&&i&&u&&(isPlainObject(u)||isArray(u))&&objForEachKey(u,function(e,t){_applyDefaultValue(r,c,e,t)}),r.set(e,t,c),s&&r.ref(e,t),_&&r[_DYN_RD_ONLY](e,t)}var CFG_HANDLER_LINK=symbolFor("[[ai_dynCfg_1]]"),BLOCK_DYNAMIC=symbolFor("[[ai_blkDynCfg_1]]"),FORCE_DYNAMIC=symbolFor("[[ai_frcDynCfg_1]]");function _cfgDeepCopy(e){var r;return e&&(isArray(e)?(r=[])[_DYN_LENGTH$1]=e[_DYN_LENGTH$1]:isPlainObject(e)&&(r={}),r)?(objForEachKey(e,function(e,t){r[e]=_cfgDeepCopy(t)}),r):e}function getDynamicConfigHandler(e){if(e){var t=e[CFG_HANDLER_LINK]||e;if(t.cfg&&(t.cfg===e||t.cfg[CFG_HANDLER_LINK]===t))return t}return null}function blockDynamicConversion(e){if(e&&(isPlainObject(e)||isArray(e)))try{e[BLOCK_DYNAMIC]=!0}catch(t){}return e}function _canMakeDynamic(e,t,r){var n=!1;return!r||e[t.blkVal]||(n=r[FORCE_DYNAMIC])||r[BLOCK_DYNAMIC]?n:isPlainObject(r)||isArray(r)}function throwInvalidAccess(e){throwTypeError("InvalidAccess:"+e)}var arrayMethodsToPatch=["push","pop","shift","unshift","splice"],_throwDynamicError=function(e,t,r,n){e&&e[_DYN_THROW_INTERNAL](3,108,"".concat(r," [").concat(t,"] failed - ")+dumpObj(n))};function _patchArray(a,o,i){isArray(o)&&arrForEach(arrayMethodsToPatch,function(e){var n=o[e];o[e]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=n[_DYN_APPLY](this,e);return _makeDynamicObject(a,o,i,"Patching"),r}})}function _getOwnPropGetter(e,t){e=objGetOwnPropertyDescriptor(e,t);return e&&e.get}function _createDynamicProperty(a,o,i,s){var _={n:i,h:[],trk:function(e){e&&e.fn&&(-1===arrIndexOf(_.h,e)&&_.h[_DYN_PUSH$1](e),a.trk(e,_))},clr:function(e){e=arrIndexOf(_.h,e);-1!==e&&_.h[_DYN_SPLICE](e,1)}},c=!0,u=!1;function l(){c&&(u=u||_canMakeDynamic(l,a,s),s&&!s[CFG_HANDLER_LINK]&&u&&(s=_makeDynamicObject(a,s,i,"Converting")),c=!1);var e=a.act;return e&&_.trk(e),s}l[a.prop]={chng:function(){a.add(_)}},objDefine(o,_.n,{g:l,s:function(t){if(s!==t){l[a.ro]&&!a.upd&&throwInvalidAccess("["+i+"] is read-only:"+dumpObj(o)),c&&(u=u||_canMakeDynamic(l,a,s),c=!1);var e,r=u&&l[a.rf];if(u)if(r){objForEachKey(s,function(e){s[e]=t?t[e]:UNDEFINED_VALUE});try{objForEachKey(t,function(e,t){_setDynamicProperty(a,s,e,t)}),t=s}catch(n){_throwDynamicError((a.hdlr||{})[_DYN_LOGGER],i,"Assigning",n),u=!1}}else s&&s[CFG_HANDLER_LINK]&&objForEachKey(s,function(e){var e=_getOwnPropGetter(s,e);e&&(e=e[a.prop])&&e.chng()});t!==s&&(e=t&&_canMakeDynamic(l,a,t),!r&&e&&(t=_makeDynamicObject(a,t,i,"Converting")),s=t,u=e),a.add(_)}}})}function _setDynamicProperty(e,t,r,n){var a;return t&&((a=_getOwnPropGetter(t,r))&&a[e.prop]?t[r]=n:_createDynamicProperty(e,t,r,n)),t}function _setDynamicPropertyState(e,t,r,n){if(t){var a=_getOwnPropGetter(t,r),o=a&&!!a[e.prop],i=n&&n[0],s=n&&n[1],n=n&&n[2];if(!o){if(n)try{blockDynamicConversion(t)}catch(_){_throwDynamicError((e.hdlr||{})[_DYN_LOGGER],r,"Blocking",_)}try{_setDynamicProperty(e,t,r,t[r]),a=_getOwnPropGetter(t,r)}catch(_){_throwDynamicError((e.hdlr||{})[_DYN_LOGGER],r,"State",_)}}i&&(a[e.rf]=i),s&&(a[e.ro]=s),n&&(a[e.blkVal]=!0)}return t}function _makeDynamicObject(r,n,e,t){try{objForEachKey(n,function(e,t){_setDynamicProperty(r,n,e,t)}),n[CFG_HANDLER_LINK]||(objDefineProp(n,CFG_HANDLER_LINK,{get:function(){return r[_DYN_HDLR]}}),_patchArray(r,n,e))}catch(a){_throwDynamicError((r.hdlr||{})[_DYN_LOGGER],e,t,a)}return n}var symPrefix="[[ai_",symPostfix="]]";function _createState(o){var i,e=newSymbol(symPrefix+"get"+o.uid+symPostfix),t=newSymbol(symPrefix+"ro"+o.uid+symPostfix),r=newSymbol(symPrefix+"rf"+o.uid+symPostfix),n=newSymbol(symPrefix+"blkVal"+o.uid+symPostfix),s=newSymbol(symPrefix+"dtl"+o.uid+symPostfix),a=null,_=null;function c(t,e){var r=i.act;try{(i.act=t)&&t[s]&&(arrForEach(t[s],function(e){e.clr(t)}),t[s]=[]),e({cfg:o.cfg,set:o.set.bind(o),setDf:o[_DYN_SET_DF].bind(o),ref:o.ref.bind(o),rdOnly:o[_DYN_RD_ONLY].bind(o)})}catch(a){var n=o[_DYN_LOGGER];throw n&&n[_DYN_THROW_INTERNAL](1,107,dumpObj(a)),a}finally{i.act=r||null}}function u(){if(a){var e=a,r=(a=null,_&&_[_DYN_CANCEL](),_=null,[]);if(arrForEach(e,function(t){if(t&&(t[s]&&(arrForEach(t[s],function(e){e.clr(t)}),t[s]=null),t.fn))try{c(t,t.fn)}catch(e){r[_DYN_PUSH$1](e)}}),a)try{u()}catch(t){r[_DYN_PUSH$1](t)}0<r[_DYN_LENGTH$1]&&throwAggregationError("Watcher error(s): ",r)}}return(e={prop:e,ro:t,rf:r})[_DYN_BLK_VAL]=n,e[_DYN_HDLR]=o,e.add=function(e){if(e&&0<e.h[_DYN_LENGTH$1]){a=a||[],_=_||scheduleTimeout(function(){_=null,u()},0);for(var t=0;t<e.h[_DYN_LENGTH$1];t++){var r=e.h[t];r&&-1===arrIndexOf(a,r)&&a[_DYN_PUSH$1](r)}}},e[_DYN_NOTIFY]=u,e.use=c,e.trk=function(e,t){e&&(e=e[s]=e[s]||[],-1===arrIndexOf(e,t)&&e[_DYN_PUSH$1](t))},i=e}function _createAndUseHandler(e,t){var r={fn:t,rm:function(){r.fn=null,t=e=null}};return e.use(r,t),r}function _createDynamicHandler(a,e,t){var r=getDynamicConfigHandler(e);if(r)return r;var o,r=createUniqueNamespace("dyncfg",!0),t=e&&!1!==t?e:_cfgDeepCopy(e),n=((e={uid:null,cfg:t})[_DYN_LOGGER]=a,e[_DYN_NOTIFY]=function(){o[_DYN_NOTIFY]()},e.set=function(e,t,r){try{e=_setDynamicProperty(o,e,t,r)}catch(n){_throwDynamicError(a,t,"Setting value",n)}return e[t]},e[_DYN_SET_DF]=function(r,e){return e&&objForEachKey(e,function(e,t){_applyDefaultValue(n,r,e,t)}),r},e[_DYN_WATCH]=function(e){return _createAndUseHandler(o,e)},e.ref=function(e,t){return _setDynamicPropertyState(o,e,t,((e={})[0]=!0,e))[t]},e[_DYN_RD_ONLY]=function(e,t){return _setDynamicPropertyState(o,e,t,((e={})[1]=!0,e))[t]},e[_DYN_BLK_VAL]=function(e,t){return _setDynamicPropertyState(o,e,t,((e={})[2]=!0,e))[t]},e._block=function(r,n){o.use(null,function(e){var t=o.upd;try{isUndefined(n)||(o.upd=n),r(e)}finally{o.upd=t}})},e);return objDefine(n,"uid",{c:!1,e:!1,w:!1,v:r}),_makeDynamicObject(o=_createState(n),t,"config","Creating"),n}function _logInvalidAccess(e,t){e?(e[_DYN_WARN_TO_CONSOLE](t),e[_DYN_THROW_INTERNAL](2,108,t)):throwInvalidAccess(t)}function createDynamicConfig(e,t,r,n){r=_createDynamicHandler(r,e||{},n);return t&&r[_DYN_SET_DF](r.cfg,t),r}function onConfigChange(e,t,r){var n=e[CFG_HANDLER_LINK]||e;return!n.cfg||n.cfg!==e&&n.cfg[CFG_HANDLER_LINK]!==n?(_logInvalidAccess(r,STR_NOT_DYNAMIC_ERROR+dumpObj(e)),createDynamicConfig(e,null,r)[_DYN_WATCH](t)):n[_DYN_WATCH](t)}var _a,_aiNamespace=null;function _getExtensionNamespace(){var e=getInst("Microsoft");return _aiNamespace=e?e.ApplicationInsights:_aiNamespace}function getDebugExt(e){var t=_aiNamespace;return(t=t||!0===e.disableDbgExt?t:_aiNamespace||_getExtensionNamespace())?t.ChromeDbgExt:null}var STR_WARN_TO_CONSOLE="warnToConsole",AiNonUserActionablePrefix="AI (Internal): ",AiUserActionablePrefix="AI: ",AIInternalMessagePrefix="AITR_",defaultValues={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},_logFuncs=((_a={})[0]=null,_a[1]="errorToConsole",_a[2]=STR_WARN_TO_CONSOLE,_a[3]="debugToConsole",_a);function _sanitizeDiagnosticText(e){return e?'"'+e[_DYN_REPLACE](/\"/g,STR_EMPTY)+'"':STR_EMPTY}function _logToConsole(e,t){var r,n=getConsole();n&&(r="log",n[e]&&(r=e),isFunction(n[r])&&n[r](t))}var _InternalLogMessage=function(){function e(e,t,r,n){void 0===r&&(r=!1),this[_DYN_MESSAGE_ID]=e,this[_DYN_MESSAGE$1]=(r?AiUserActionablePrefix:AiNonUserActionablePrefix)+e;r=STR_EMPTY,hasJSON()&&(r=getJSON().stringify(n)),e=(t?" message:"+_sanitizeDiagnosticText(t):STR_EMPTY)+(n?" props:"+_sanitizeDiagnosticText(r):STR_EMPTY);this[_DYN_MESSAGE$1]+=e}return e.dataType="MessageData",e}();function safeGetLogger(e,t){return(e||{})[_DYN_LOGGER]||new DiagnosticLogger(t)}var DiagnosticLogger=function(){function e(n){this.identifier="DiagnosticLogger",this.queue=[];var _,a,c,u,t,l=0,N={};dynamicProto(e,this,function(o){function i(e,t){var r,n;c<=l||(n=!0,r=AIInternalMessagePrefix+t[_DYN_MESSAGE_ID],N[r]?n=!1:N[r]=!0,n&&(e<=a&&(o.queue[_DYN_PUSH$1](t),l++,s(1===e?"error":"warn",t)),l===c&&(n=new _InternalLogMessage(23,r="Internal events throttle limit per PageView reached for this app.",!1),o.queue[_DYN_PUSH$1](n),1===e?o.errorToConsole(r):o[_DYN_WARN_TO_CONSOLE](r))))}function s(e,t){var r=getDebugExt(n||{});r&&r[_DYN_DIAG_LOG]&&r[_DYN_DIAG_LOG](e,t)}t=onConfigChange(createDynamicConfig(n||{},defaultValues,o).cfg,function(e){e=e.cfg;_=e[_DYN_LOGGING_LEVEL_CONSOL4],a=e.loggingLevelTelemetry,c=e.maxMessageLimit,u=e.enableDebug}),o.consoleLoggingLevel=function(){return _},o[_DYN_THROW_INTERNAL]=function(e,t,r,n,a){t=new _InternalLogMessage(t,r,a=void 0!==a&&a,n);if(u)throw dumpObj(t);r=_logFuncs[e]||STR_WARN_TO_CONSOLE;isUndefined(t[_DYN_MESSAGE$1])?s("throw"+(1===e?"Critical":"Warning"),t):(a?(n=+t[_DYN_MESSAGE_ID],!N[n]&&e<=_&&(o[r](t[_DYN_MESSAGE$1]),N[n]=!0)):e<=_&&o[r](t[_DYN_MESSAGE$1]),i(e,t))},o.debugToConsole=function(e){_logToConsole("debug",e),s("warning",e)},o[_DYN_WARN_TO_CONSOLE]=function(e){_logToConsole("warn",e),s("warning",e)},o.errorToConsole=function(e){_logToConsole("error",e),s("error",e)},o.resetInternalMessageCount=function(){l=0,N={}},o[_DYN_LOG_INTERNAL_MESSAGE]=i,o[_DYN_UNLOAD]=function(e){t&&t.rm(),t=null}})}return e.__ieDyn=1,e}();function _getLogger(e){return e||new DiagnosticLogger}function _throwInternal(e,t,r,n,a,o){void 0===o&&(o=!1),_getLogger(e)[_DYN_THROW_INTERNAL](t,r,n,a,o)}function generateW3CId(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r=STR_EMPTY,n=0;n<4;n++)r+=t[15&(e=random32())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var a=t[8+(3&random32())|0];return strSubstr(r,0,8)+strSubstr(r,9,4)+"4"+strSubstr(r,13,3)+a+strSubstr(r,16,3)+strSubstr(r,19,12)}var TRACE_PARENT_REGEX=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,DEFAULT_VERSION="00",INVALID_VERSION="ff",INVALID_TRACE_ID="00000000000000000000000000000000",INVALID_SPAN_ID="0000000000000000",SAMPLED_FLAG=1;function _isValid(e,t,r){return!(!e||e[_DYN_LENGTH$1]!==t||e===r||!e.match(/^[\da-f]*$/i))}function _formatValue(e,t,r){return _isValid(e,t)?e:r}function _formatFlags(e){for(var t=(e=isNaN(e)||e<0||255<e?1:e).toString(16);t[_DYN_LENGTH$1]<2;)t="0"+t;return t}function createTraceParent(e,t,r,n){var a={};return a[_DYN_VERSION]=_isValid(n,2,INVALID_VERSION)?n:DEFAULT_VERSION,a[_DYN_TRACE_ID]=isValidTraceId(e)?e:generateW3CId(),a[_DYN_SPAN_ID]=isValidSpanId(t)?t:strLeft(generateW3CId(),16),a.traceFlags=0<=r&&r<=255?r:1,a}function parseTraceParent(e,t){if(!e)return null;if(!(e=isArray(e)?e[0]||"":e)||!isString(e)||8192<e[_DYN_LENGTH$1])return null;~e.indexOf(",")&&(e=(r=e[_DYN_SPLIT$1](","))[0<t&&r[_DYN_LENGTH$1]>t?t:0]);var r=TRACE_PARENT_REGEX.exec(strTrim(e));return r&&r[1]!==INVALID_VERSION&&r[2]!==INVALID_TRACE_ID&&r[3]!==INVALID_SPAN_ID?((t={version:(r[1]||STR_EMPTY)[_DYN_TO_LOWER_CASE$1](),traceId:(r[2]||STR_EMPTY)[_DYN_TO_LOWER_CASE$1](),spanId:(r[3]||STR_EMPTY)[_DYN_TO_LOWER_CASE$1]()})[_DYN_TRACE_FLAGS]=parseInt(r[4],16),t):null}function isValidTraceId(e){return _isValid(e,32,INVALID_TRACE_ID)}function isValidSpanId(e){return _isValid(e,16,INVALID_SPAN_ID)}function isValidTraceParent(e){return!!(e&&_isValid(e[_DYN_VERSION],2,INVALID_VERSION)&&_isValid(e[_DYN_TRACE_ID],32,INVALID_TRACE_ID)&&_isValid(e[_DYN_SPAN_ID],16,INVALID_SPAN_ID)&&_isValid(_formatFlags(e[_DYN_TRACE_FLAGS]),2))}function isSampledFlag(e){return!!isValidTraceParent(e)&&(e[_DYN_TRACE_FLAGS]&SAMPLED_FLAG)===SAMPLED_FLAG}function formatTraceParent(e){var t,r;return e?(_isValid(t=_formatFlags(e[_DYN_TRACE_FLAGS]),2)||(t="01"),r=e[_DYN_VERSION]||DEFAULT_VERSION,"".concat((r="00"!==r&&"ff"!==r?DEFAULT_VERSION:r).toLowerCase(),"-").concat(_formatValue(e.traceId,32,INVALID_TRACE_ID).toLowerCase(),"-").concat(_formatValue(e.spanId,16,INVALID_SPAN_ID).toLowerCase(),"-").concat(t.toLowerCase())):""}function findW3cTraceParent(e){var t="traceparent";return parseTraceParent(findMetaTag(t),e)||parseTraceParent(findNamedServerTiming(t),e)}var strOnPrefix="on",strAttachEvent="attachEvent",strAddEventHelper="addEventListener",strDetachEvent="detachEvent",strRemoveEventListener="removeEventListener",strEvents="events",rRemoveEmptyNs=(createUniqueNamespace("aiEvtPageHide"),createUniqueNamespace("aiEvtPageShow"),/\.[\.]+/g),rRemoveTrailingEmptyNs=/[\.]+$/,_guid=1,elmNodeData=createElmNodeData("events"),eventNamespace=/^([^.]*)(?:\.(.+)|)/;function _normalizeNamespace(e){return e&&e[_DYN_REPLACE]?e[_DYN_REPLACE](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,STR_EMPTY):e}function _getEvtNamespace(e,t){t&&(r=STR_EMPTY,isArray(t)?(r=STR_EMPTY,arrForEach(t,function(e){(e=_normalizeNamespace(e))&&("."!==e[0]&&(e="."+e),r+=e)})):r=_normalizeNamespace(t),r&&("."!==r[0]&&(r="."+r),e=(e||STR_EMPTY)+r));var r,t=eventNamespace.exec(e||STR_EMPTY)||[],e={};return e[_DYN_TYPE]=t[1],e.ns=(t[2]||STR_EMPTY).replace(rRemoveEmptyNs,".").replace(rRemoveTrailingEmptyNs,STR_EMPTY)[_DYN_SPLIT$1](".").sort().join("."),e}function _getRegisteredEvents(e,t,r){e=elmNodeData.get(e,strEvents,{},r=void 0===r||r);return e[t]||(e[t]=[])}function _doDetach(e,t,r,n){e&&t&&t[_DYN_TYPE]&&(e[strRemoveEventListener]?e[strRemoveEventListener](t[_DYN_TYPE],r,n):e[strDetachEvent]&&e[strDetachEvent](strOnPrefix+t[_DYN_TYPE],r))}function _doAttach(e,t,r,n){var a=!1;return e&&t&&t[_DYN_TYPE]&&r&&(e[strAddEventHelper]?(e[strAddEventHelper](t[_DYN_TYPE],r,n),a=!0):e[strAttachEvent]&&(e[strAttachEvent](strOnPrefix+t[_DYN_TYPE],r),a=!0)),a}function _doUnregister(e,t,r,n){for(var a=t[_DYN_LENGTH$1];a--;){var o=t[a];!o||r.ns&&r.ns!==o.evtName.ns||n&&!n(o)||(_doDetach(e,o.evtName,o[_DYN_HANDLER],o.capture),t[_DYN_SPLICE](a,1))}}function _unregisterEvents(r,n,a){var e;n[_DYN_TYPE]?_doUnregister(r,_getRegisteredEvents(r,n[_DYN_TYPE]),n,a):(objForEachKey(e=elmNodeData.get(r,strEvents,{}),function(e,t){_doUnregister(r,t,n,a)}),0===objKeys(e)[_DYN_LENGTH$1]&&elmNodeData.kill(r,strEvents))}function mergeEvtNamespace(e,t){return t?_getEvtNamespace("xx",isArray(t)?[e].concat(t):[e,t]).ns[_DYN_SPLIT$1]("."):e}function eventOn(e,t,r,n,a){void 0===a&&(a=!1);var o,i=!1;if(e)try{var s,_=_getEvtNamespace(t,n);(i=_doAttach(e,_,r,a))&&elmNodeData.accept(e)&&((o={guid:_guid++,evtName:_})[_DYN_HANDLER]=r,o.capture=a,s=o,_getRegisteredEvents(e,_.type)[_DYN_PUSH$1](s))}catch(c){}return i}function eventOff(e,t,r,n,a){if(void 0===a&&(a=!1),e)try{var o=_getEvtNamespace(t,n),i=!1;_unregisterEvents(e,o,function(e){return!((!o.ns||r)&&e[_DYN_HANDLER]!==r)&&(i=!0)}),i||_doDetach(e,o,r,a)}catch(s){}}var DisabledPropertyName="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",SampleRate="sampleRate",ProcessLegacy="ProcessLegacy",HttpMethod="http.method",DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",DEFAULT_BREEZE_PATH="/v2/track",strNotSpecified="not_specified",strIkey="iKey",RequestHeaders=createValueMap({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),_DYN_SPLIT="split",_DYN_LENGTH="length",_DYN_TO_LOWER_CASE="toLowerCase",_DYN_INGESTIONENDPOINT="ingestionendpoint",_DYN_TO_STRING="toString",_DYN_PUSH="push",_DYN_REMOVE_ITEM="removeItem",_DYN_NAME="name",_DYN_MESSAGE="message",_DYN_COUNT="count",_DYN_PRE_TRIGGER_DATE="preTriggerDate",_DYN_DISABLED="disabled",_DYN_INTERVAL="interval",_DYN_DAYS_OF_MONTH="daysOfMonth",_DYN_DATE="date",_DYN_GET_UTCDATE="getUTCDate",_DYN_STRINGIFY="stringify",_DYN_PATHNAME="pathname",_DYN_CORRELATION_HEADER_E0="correlationHeaderExcludePatterns",_DYN_EXTENSION_CONFIG="extensionConfig",_DYN_EXCEPTIONS="exceptions",_DYN_PARSED_STACK="parsedStack",_DYN_PROPERTIES="properties",_DYN_MEASUREMENTS="measurements",_DYN_SIZE_IN_BYTES="sizeInBytes",_DYN_TYPE_NAME="typeName",_DYN_SEVERITY_LEVEL="severityLevel",_DYN_PROBLEM_GROUP="problemGroup",_DYN_IS_MANUAL="isManual",_DYN__CREATE_FROM_INTERFA1="CreateFromInterface",_DYN_ASSEMBLY="assembly",_DYN_FILE_NAME="fileName",_DYN_HAS_FULL_STACK="hasFullStack",_DYN_LEVEL="level",_DYN_METHOD="method",_DYN_LINE="line",_DYN_DURATION="duration",_DYN_RECEIVED_RESPONSE="receivedResponse";function dataSanitizeKeyAndAddUniqueness(e,t,r){var n=t[_DYN_LENGTH],a=dataSanitizeKey(e,t);if(a[_DYN_LENGTH]!==n){for(var o=0,i=a;r[i]!==undefined;)o++,i=strSubstring(a,0,147)+dsPadNumber(o);a=i}return a}function dataSanitizeKey(e,t){var r;return t&&150<(t=strTrim(asString(t)))[_DYN_LENGTH]&&(r=strSubstring(t,0,150),_throwInternal(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),r||t}function dataSanitizeString(e,t,r){var n;return void 0===r&&(r=1024),t&&(r=r||1024,(t=strTrim(asString(t)))[_DYN_LENGTH]>r&&(n=strSubstring(t,0,r),_throwInternal(e,2,61,"string value is too long. It has been truncated to "+r+" characters.",{value:t},!0))),n||t}function dataSanitizeUrl(e,t){return dataSanitizeInput(e,t,2048,66)}function dataSanitizeMessage(e,t){var r;return t&&32768<t[_DYN_LENGTH]&&(r=strSubstring(t,0,32768),_throwInternal(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),r||t}function dataSanitizeException(e,t){var r,n;return t&&32768<(n=""+t)[_DYN_LENGTH]&&(r=strSubstring(n,0,32768),_throwInternal(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0)),r||t}function dataSanitizeProperties(n,e){var a;return e&&(a={},objForEachKey(e,function(e,t){if(isObject(t)&&hasJSON())try{t=getJSON()[_DYN_STRINGIFY](t)}catch(r){_throwInternal(n,2,49,"custom property is not valid",{exception:r},!0)}t=dataSanitizeString(n,t,8192),e=dataSanitizeKeyAndAddUniqueness(n,e,a),a[e]=t}),e=a),e}function dataSanitizeMeasurements(r,e){var n;return e&&(n={},objForEachKey(e,function(e,t){e=dataSanitizeKeyAndAddUniqueness(r,e,n),n[e]=t}),e=n),e}function dataSanitizeId(e,t){return t&&dataSanitizeInput(e,t,128,69)[_DYN_TO_STRING]()}function dataSanitizeInput(e,t,r,n){var a;return t&&(t=strTrim(asString(t)))[_DYN_LENGTH]>r&&(a=strSubstring(t,0,r),_throwInternal(e,2,n,"input is too long, it has been truncated to "+r+" characters.",{data:t},!0)),a||t}function dsPadNumber(e){e="00"+e;return strSubstr(e,e[_DYN_LENGTH]-3)}var _document=getDocument()||{},_htmlAnchorIdx=0,_htmlAnchorElement=[null,null,null,null,null];function urlParseUrl(e){var t=_htmlAnchorIdx,r=_htmlAnchorElement,n=r[t];return _document.createElement?r[t]||(n=r[t]=_document.createElement("a")):n={host:urlParseHost(e,!0)},n.href=e,++t>=r[_DYN_LENGTH]&&(t=0),_htmlAnchorIdx=t,n}function urlGetAbsoluteUrl(e){e=urlParseUrl(e);return e?e.href:void 0}function urlGetPathName(e){e=urlParseUrl(e);return e?e[_DYN_PATHNAME]:void 0}function urlGetCompleteUrl(e,t){return e?e.toUpperCase()+" "+t:t}function urlParseHost(e,t){e=urlParseFullHost(e,t)||"";if(e){t=e.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(null!=t&&3<t[_DYN_LENGTH]&&isString(t[2])&&0<t[2][_DYN_LENGTH])return t[2]+(t[3]||"")}return e}function urlParseFullHost(e,t){var r=null;return e&&null!=(e=e.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i))&&2<e[_DYN_LENGTH]&&isString(e[2])&&0<e[2][_DYN_LENGTH]&&(r=e[2]||"",t&&2<e[_DYN_LENGTH]&&(t=(e[1]||"")[_DYN_TO_LOWER_CASE](),e=e[3]||"",r+=e="http"===t&&":80"===e||"https"===t&&":443"===e?"":e)),r}var _internalEndpoints=[DEFAULT_BREEZE_ENDPOINT+DEFAULT_BREEZE_PATH,"https://breeze.aimon.applicationinsights.io"+DEFAULT_BREEZE_PATH,"https://dc-int.services.visualstudio.com"+DEFAULT_BREEZE_PATH],_correlationIdPrefix="cid-v1:";function isInternalApplicationInsightsEndpoint(e){return-1!==arrIndexOf(_internalEndpoints,e[_DYN_TO_LOWER_CASE]())}function correlationIdSetPrefix(e){_correlationIdPrefix=e}function correlationIdGetPrefix(){return _correlationIdPrefix}function correlationIdCanIncludeCorrelationHeader(e,t,r){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e[_DYN_CORRELATION_HEADER_E0])for(var n=0;n<e.correlationHeaderExcludePatterns[_DYN_LENGTH];n++)if(e[_DYN_CORRELATION_HEADER_E0][n].test(t))return!1;var a=urlParseUrl(t).host[_DYN_TO_LOWER_CASE]();if(!a||-1===strIndexOf(a,":443")&&-1===strIndexOf(a,":80")||(a=(urlParseFullHost(t,!0)||"")[_DYN_TO_LOWER_CASE]()),(!e||!e.enableCorsCorrelation)&&a&&a!==r)return!1;var o,r=e&&e.correlationHeaderDomains;if(r&&(arrForEach(r,function(e){e=RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));o=o||e.test(a)}),!o))return!1;var i=e&&e.correlationHeaderExcludedDomains;if(!i||0===i[_DYN_LENGTH])return!0;for(n=0;n<i[_DYN_LENGTH];n++)if(RegExp(i[n].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(a))return!1;return a&&0<a[_DYN_LENGTH]}function correlationIdGetCorrelationContext(e){if(e){e=correlationIdGetCorrelationContextValue(e,RequestHeaders[1]);if(e&&e!==_correlationIdPrefix)return e}}function correlationIdGetCorrelationContextValue(e,t){if(e)for(var r=e[_DYN_SPLIT](","),n=0;n<r[_DYN_LENGTH];++n){var a=r[n][_DYN_SPLIT]("=");if(2===a[_DYN_LENGTH]&&a[0]===t)return a[1]}}function AjaxHelperParseDependencyPath(e,t,r,n){var a,o,i,s=n,_=n,s=t&&0<t[_DYN_LENGTH]?(i=(a=urlParseUrl(t)).host,s||(null!=a[_DYN_PATHNAME]?("/"!=((o=0===a.pathname[_DYN_LENGTH]?"/":a[_DYN_PATHNAME])[0]||"")&&(o="/"+o),_=a[_DYN_PATHNAME],dataSanitizeString(e,r?r+" "+o:o)):dataSanitizeString(e,t))):i=n;return{target:i,name:s,data:_}}function dateTimeUtilsNow(){var e=getPerformance();if(e&&e.now&&e.timing){e=e.now()+e.timing.navigationStart;if(0<e)return e}return utcNow()}function dateTimeUtilsDuration(e,t){return 0===e||0===t||isNullOrUndefined(e)||isNullOrUndefined(t)?null:t-e}function createDistributedTraceContextFromTrace(e,t){var r=e||{};return{getName:function(){return r[_DYN_NAME]},setName:function(e){t&&t.setName(e),r[_DYN_NAME]=e},getTraceId:function(){return r.traceID},setTraceId:function(e){t&&t.setTraceId(e),isValidTraceId(e)&&(r.traceID=e)},getSpanId:function(){return r.parentID},setSpanId:function(e){t&&t.setSpanId(e),isValidSpanId(e)&&(r.parentID=e)},getTraceFlags:function(){return r.traceFlags},setTraceFlags:function(e){t&&t.setTraceFlags(e),r.traceFlags=e}}}var StorageType=createEnumStyle({LocalStorage:0,SessionStorage:1}),DistributedTracingModes=createEnumStyle({AI:0,AI_AND_W3C:1,W3C:2}),EventPersistence=createEnumStyle({Normal:1,Critical:2}),_canUseLocalStorage=undefined,_canUseSessionStorage=undefined,_storagePrefix="";function _getLocalStorageObject(){return utlCanUseLocalStorage()?_getVerifiedStorageObject(StorageType.LocalStorage):null}function _getVerifiedStorageObject(e){try{if(isNullOrUndefined(getGlobal()))return null;var t=(new Date)[_DYN_TO_STRING](),r=getInst(e===StorageType.LocalStorage?"localStorage":"sessionStorage"),n=_storagePrefix+t,a=(r.setItem(n,t),r.getItem(n)!==t);if(r[_DYN_REMOVE_ITEM](n),!a)return r}catch(o){}return null}function _getSessionStorageObject(){return utlCanUseSessionStorage()?_getVerifiedStorageObject(StorageType.SessionStorage):null}function utlDisableStorage(){_canUseSessionStorage=_canUseLocalStorage=!1}function utlSetStoragePrefix(e){_storagePrefix=e||""}function utlEnableStorage(){_canUseLocalStorage=utlCanUseLocalStorage(!0),_canUseSessionStorage=utlCanUseSessionStorage(!0)}function utlCanUseLocalStorage(e){return _canUseLocalStorage=e||_canUseLocalStorage===undefined?!!_getVerifiedStorageObject(StorageType.LocalStorage):_canUseLocalStorage}function utlGetLocalStorage(e,t){var r=_getLocalStorageObject();if(null!==r)try{return r.getItem(t)}catch(n){_canUseLocalStorage=!1,_throwInternal(e,2,1,"Browser failed read of local storage. "+getExceptionName(n),{exception:dumpObj(n)})}return null}function utlSetLocalStorage(e,t,r){var n=_getLocalStorageObject();if(null!==n)try{return n.setItem(t,r),!0}catch(a){_canUseLocalStorage=!1,_throwInternal(e,2,3,"Browser failed write to local storage. "+getExceptionName(a),{exception:dumpObj(a)})}return!1}function utlRemoveStorage(e,t){var r=_getLocalStorageObject();if(null!==r)try{return r[_DYN_REMOVE_ITEM](t),!0}catch(n){_canUseLocalStorage=!1,_throwInternal(e,2,5,"Browser failed removal of local storage item. "+getExceptionName(n),{exception:dumpObj(n)})}return!1}function utlCanUseSessionStorage(e){return _canUseSessionStorage=e||_canUseSessionStorage===undefined?!!_getVerifiedStorageObject(StorageType.SessionStorage):_canUseSessionStorage}function utlGetSessionStorageKeys(){var t=[];return utlCanUseSessionStorage()&&objForEachKey(getInst("sessionStorage"),function(e){t[_DYN_PUSH](e)}),t}function utlGetSessionStorage(e,t){var r=_getSessionStorageObject();if(null!==r)try{return r.getItem(t)}catch(n){_canUseSessionStorage=!1,_throwInternal(e,2,2,"Browser failed read of session storage. "+getExceptionName(n),{exception:dumpObj(n)})}return null}function utlSetSessionStorage(e,t,r){var n=_getSessionStorageObject();if(null!==n)try{return n.setItem(t,r),!0}catch(a){_canUseSessionStorage=!1,_throwInternal(e,2,4,"Browser failed write to session storage. "+getExceptionName(a),{exception:dumpObj(a)})}return!1}function utlRemoveSessionStorage(e,t){var r=_getSessionStorageObject();if(null!==r)try{return r[_DYN_REMOVE_ITEM](t),!0}catch(n){_canUseSessionStorage=!1,_throwInternal(e,2,6,"Browser failed removal of session storage item. "+getExceptionName(n),{exception:dumpObj(n)})}return!1}var THROTTLE_STORAGE_PREFIX="appInsightsThrottle",ThrottleMgr=function(e,t){var E,f,N,a,d,o,i,r=this,D=!1,S=!1;function s(e,t,r,n){if(D){if(!function(e){try{var t=p(e);return randomValue(1e6)<=t.limit.samplingRate}catch(r){}}(e))return;var a=p(e),o=m(e),i=g(a,E,o),s=!1,_=0,c=I(e);try{i&&!c?(_=Math.min(a.limit.maxSendNumber,o[_DYN_COUNT]+1),s=!(o[_DYN_COUNT]=0),d[e]=!0,o[_DYN_PRE_TRIGGER_DATE]=new Date):(d[e]=i,o[_DYN_COUNT]+=1);var u=T(e);y(f,u,o);for(var l=0;l<_;l++)_throwInternal(f,r||1,e,t)}catch(N){}return{isThrottled:s,throttleNum:_}}return n&&O(e)[_DYN_PUSH]({msgID:e,message:t,severity:r}),null}function p(e){return N[e]||N[109]}function n(e,t){var r,n,a,o,i;try{var s=t||{},_={},c=(_[_DYN_DISABLED]=!!s[_DYN_DISABLED],s[_DYN_INTERVAL]||{}),u=(S=(null===c?void 0:c.daysOfMonth)&&0<(null===c?void 0:c.daysOfMonth[_DYN_LENGTH]),_[_DYN_INTERVAL]=(o=null==(a=c||{})?void 0:a.monthInterval,i=null==a?void 0:a.dayInterval,isNullOrUndefined(o)&&isNullOrUndefined(i)&&(a.monthInterval=3,S||(a[_DYN_DAYS_OF_MONTH]=[28],S=!0)),{monthInterval:null==a?void 0:a.monthInterval,dayInterval:null==a?void 0:a.dayInterval,daysOfMonth:null==a?void 0:a.daysOfMonth}),{samplingRate:(null==(r=s.limit)?void 0:r.samplingRate)||100,maxSendNumber:(null==(n=s.limit)?void 0:n.maxSendNumber)||1});_.limit=u,N[e]=_}catch(l){}}function g(e,t,r){var n,a;return!(!e||e[_DYN_DISABLED]||!t||!isNotNullOrUndefined(r))&&(t=_(),r=r[_DYN_DATE],n=1,null!=(e=e[_DYN_INTERVAL])&&e.monthInterval&&(a=12*(t.getUTCFullYear()-r.getUTCFullYear())+t.getUTCMonth()-r.getUTCMonth(),n=c(e.monthInterval,0,a)),a=1,S?a=arrIndexOf(e[_DYN_DAYS_OF_MONTH],t[_DYN_GET_UTCDATE]()):null!=e&&e.dayInterval&&(t=Math.floor((t.getTime()-r.getTime())/864e5),a=c(e.dayInterval,0,t)),0<=n&&0<=a)}function T(e,t){t=isNotNullOrUndefined(t)?t:"";return e?THROTTLE_STORAGE_PREFIX+t+"-"+e:null}function _(e){try{if(!e)return new Date;var t=new Date(e);if(!isNaN(t.getDate()))return t}catch(r){}return null}function y(e,t,r){try{utlSetLocalStorage(e,t,strTrim(JSON[_DYN_STRINGIFY](r)))}catch(n){}}function c(e,t,r){return e<=0?1:t<=r&&(r-t)%e==0?1+Math.floor((r-t)/e):-1}function m(e){try{var t,r;return a[e]||(t=T(e,o),r=function(e,t,r){try{var n,a={date:_(),count:0};return e?{date:_((n=JSON.parse(e))[_DYN_DATE])||a[_DYN_DATE],count:n[_DYN_COUNT]||a[_DYN_COUNT],preTriggerDate:n.preTriggerDate?_(n[_DYN_PRE_TRIGGER_DATE]):undefined}:(y(t,r,a),a)}catch(o){}return null}(utlGetLocalStorage(f,t),f,t),a[e]=r),a[e]}catch(n){}return null}function I(e){var t,r=d[e];return isNullOrUndefined(r)&&(r=!1,(t=m(e))&&(r=function(e){try{var t;if(e)return t=new Date,e.getUTCFullYear()==t.getUTCFullYear()&&e.getUTCMonth()==t.getUTCMonth()&&e[_DYN_GET_UTCDATE]()===t[_DYN_GET_UTCDATE]()}catch(r){}return!1}(t[_DYN_PRE_TRIGGER_DATE])),d[e]=r),d[e]}function O(e){return isNullOrUndefined((i=i||{})[e])&&(i[e]=[]),i[e]}f=safeGetLogger(e),d={},a={},i={},N={},n(109),o=isNotNullOrUndefined(t)?t:"",e.addUnloadHook(onConfigChange(e.config,function(e){e=e.cfg;E=utlCanUseLocalStorage(),objForEachKey(e.throttleMgrCfg||{},function(e,t){n(parseInt(e),t)})})),r._getDbgPlgTargets=function(){return[i]},r.getConfig=function(){return N},r.canThrottle=function(e){var t=m(e);return g(p(e),E,t)},r.isTriggered=I,r.isReady=function(){return D},r.flush=function(e){try{var t,r=O(e);if(r&&0<r[_DYN_LENGTH])return t=r.slice(0),i[e]=[],arrForEach(t,function(e){s(e.msgID,e[_DYN_MESSAGE],e.severity,!1)}),!0}catch(n){}return!1},r.flushAll=function(){try{var t;if(i)return t=!0,objForEachKey(i,function(e){e=r.flush(parseInt(e));t=t&&e}),t}catch(e){}return!1},r.onReadyState=function(e,t){return void 0===t&&(t=!0),(D=!!isNullOrUndefined(e)||e)&&t?r.flushAll():null},r.sendMessage=function(e,t,r){return s(e,t,r,!0)}},_FIELDS_SEPARATOR=";",_FIELD_KEY_VALUE_SEPARATOR="=";function parseConnectionString(e){if(!e)return{};var t,e=e[_DYN_SPLIT](_FIELDS_SEPARATOR),e=arrReduce(e,function(e,t){var r,t=t[_DYN_SPLIT](_FIELD_KEY_VALUE_SEPARATOR);return 2===t[_DYN_LENGTH]&&(r=t[0][_DYN_TO_LOWER_CASE](),t=t[1],e[r]=t),e},{});return 0<objKeys(e)[_DYN_LENGTH]&&(e.endpointsuffix&&(t=e.location?e.location+".":"",e[_DYN_INGESTIONENDPOINT]=e[_DYN_INGESTIONENDPOINT]||"https://"+t+"dc."+e.endpointsuffix),e[_DYN_INGESTIONENDPOINT]=e[_DYN_INGESTIONENDPOINT]||DEFAULT_BREEZE_ENDPOINT,strEndsWith(e[_DYN_INGESTIONENDPOINT],"/")&&(e[_DYN_INGESTIONENDPOINT]=e[_DYN_INGESTIONENDPOINT].slice(0,-1))),e}var ConnectionStringParser={parse:parseConnectionString},Envelope=function(e,t,r){var n=this,a=this;a.ver=1,a.sampleRate=100,a.tags={},a[_DYN_NAME]=dataSanitizeString(e,r)||strNotSpecified,a.data=t,a.time=toISOString(new Date),a.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return 100===n.sampleRate?4:1},tags:1,data:1}},Event$1=function(){function e(e,t,r,n){this.aiDataContract={ver:1,name:1,properties:0,measurements:0},this.ver=2,this[_DYN_NAME]=dataSanitizeString(e,t)||strNotSpecified,this[_DYN_PROPERTIES]=dataSanitizeProperties(e,r),this[_DYN_MEASUREMENTS]=dataSanitizeMeasurements(e,n)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}(),NoMethod="<no_method>",strError="error",strStack="stack",strStackDetails="stackDetails",strErrorSrc="errorSrc",strMessage="message",strDescription="description";function _stringify(e,t){var r=e;return r&&!isString(r)&&(JSON&&JSON[_DYN_STRINGIFY]?(r=JSON[_DYN_STRINGIFY](e),!t||r&&"{}"!==r||(r=isFunction(e[_DYN_TO_STRING])?e[_DYN_TO_STRING]():""+e)):r=e+" - (Missing JSON.stringify)"),r||""}function _formatMessage(e,t){var r=e;return e&&((r=r&&!isString(r)&&(e[strMessage]||e[strDescription])||r)&&!isString(r)&&(r=_stringify(r,!0)),e.filename&&(r=r+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),(t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===strIndexOf(r||"",t)?t+": "+r:r)||""}function _isExceptionDetailsInternal(e){try{if(isObject(e))return"hasFullStack"in e&&"typeName"in e}catch(t){}return!1}function _isExceptionInternal(e){try{if(isObject(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(t){}return!1}function _isStackDetails(e){return e&&e.src&&isString(e.src)&&e.obj&&isArray(e.obj)}function _convertStackObj(e){var e=e||"",t=(e=isString(e)?e:isString(e[strStack])?e[strStack]:""+e)[_DYN_SPLIT]("\n");return{src:e,obj:t}}function _getOperaStack(e){for(var t=[],r=e[_DYN_SPLIT]("\n"),n=0;n<r[_DYN_LENGTH];n++){var a=r[n];r[n+1]&&(a+="@"+r[n+1],n++),t[_DYN_PUSH](a)}return{src:e,obj:t}}function _getStackFromErrorObj(e){var t,r=null;if(e)try{e[strStack]?r=_convertStackObj(e[strStack]):e[strError]&&e[strError][strStack]?r=_convertStackObj(e[strError][strStack]):e.exception&&e.exception[strStack]?r=_convertStackObj(e.exception[strStack]):_isStackDetails(e)?r=e:_isStackDetails(e[strStackDetails])?r=e[strStackDetails]:getWindow()&&getWindow().opera&&e[strMessage]?r=_getOperaStack(e[_DYN_MESSAGE]):e.reason&&e.reason[strStack]?r=_convertStackObj(e.reason[strStack]):isString(e)?r=_convertStackObj(e):(t=e[strMessage]||e[strDescription]||"",isString(e[strErrorSrc])&&(t&&(t+="\n"),t+=" from "+e[strErrorSrc]),t&&(r=_convertStackObj(t)))}catch(n){r=_convertStackObj(n)}return r||{src:"",obj:null}}function _formatStackTrace(e){var t="";return e&&(e.obj?arrForEach(e.obj,function(e){t+=e+"\n"}):t=e.src||""),t}function _parseStack(e){e=e.obj;if(e&&0<e[_DYN_LENGTH]){var t=[],r=0,n=0;if(arrForEach(e,function(e){var e=e[_DYN_TO_STRING]();_StackFrame.regex.test(e)&&(e=new _StackFrame(e,r++),n+=e[_DYN_SIZE_IN_BYTES],t[_DYN_PUSH](e))}),32768<n)for(var a=0,o=t[_DYN_LENGTH]-1,i=0,s=a,_=o;a<o;){if(32768<(i+=t[a][_DYN_SIZE_IN_BYTES]+t[o][_DYN_SIZE_IN_BYTES])){t.splice(s,_-s+1);break}s=a,_=o,a++,o--}}return t}function _getErrorType(e){var t="";if(e&&!(t=e.typeName||e[_DYN_NAME]||""))try{var r=/function (.{1,200})\(/.exec(e.constructor[_DYN_TO_STRING]()),t=r&&1<r[_DYN_LENGTH]?r[1]:""}catch(n){}return t}function _formatErrorCode(e){if(e)try{var t,r;if(!isString(e))return t=_getErrorType(e),(r=_stringify(e,!1))&&"{}"!==r||(e[strError]&&(t=_getErrorType(e=e[strError])),r=_stringify(e,!0)),0!==strIndexOf(r,t)&&"String"!==t?t+":"+r:r}catch(n){}return""+(e||"")}var Exception=function(){function o(e,t,r,n,a,o){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var i=this;i.ver=2,_isExceptionInternal(t)?(i[_DYN_EXCEPTIONS]=t[_DYN_EXCEPTIONS]||[],i[_DYN_PROPERTIES]=t[_DYN_PROPERTIES],i[_DYN_MEASUREMENTS]=t[_DYN_MEASUREMENTS],t[_DYN_SEVERITY_LEVEL]&&(i[_DYN_SEVERITY_LEVEL]=t[_DYN_SEVERITY_LEVEL]),t.id&&(i.id=t.id,t[_DYN_PROPERTIES].id=t.id),t[_DYN_PROBLEM_GROUP]&&(i[_DYN_PROBLEM_GROUP]=t[_DYN_PROBLEM_GROUP]),isNullOrUndefined(t[_DYN_IS_MANUAL])||(i[_DYN_IS_MANUAL]=t[_DYN_IS_MANUAL])):(r=r||{},o&&(r.id=o),i[_DYN_EXCEPTIONS]=[new _ExceptionDetails(e,t,r)],i[_DYN_PROPERTIES]=dataSanitizeProperties(e,r),i[_DYN_MEASUREMENTS]=dataSanitizeMeasurements(e,n),a&&(i[_DYN_SEVERITY_LEVEL]=a),o&&(i.id=o))}return o.CreateAutoException=function(e,t,r,n,a,o,i,s){var _=_getErrorType(a||o||e),c={};return c[_DYN_MESSAGE]=_formatMessage(e,_),c.url=t,c.lineNumber=r,c.columnNumber=n,c.error=_formatErrorCode(a||o||e),c.evt=_formatErrorCode(o||e),c[_DYN_TYPE_NAME]=_,c.stackDetails=_getStackFromErrorObj(i||a||o),c.errorSrc=s,c},o.CreateFromInterface=function(t,e,r,n){var a=e[_DYN_EXCEPTIONS]&&arrMap(e[_DYN_EXCEPTIONS],function(e){return _ExceptionDetails[_DYN__CREATE_FROM_INTERFA1](t,e)});return new o(t,__assignFn(__assignFn({},e),{exceptions:a}),r,n)},o.prototype.toInterface=function(){var e=this,t=e.exceptions,r=e.properties,n=e.measurements,a=e.severityLevel,o=e.problemGroup,i=e.id,e=e.isManual,t=t instanceof Array&&arrMap(t,function(e){return e.toInterface()})||undefined,s={ver:"4.0"};return s[_DYN_EXCEPTIONS]=t,s.severityLevel=a,s.properties=r,s.measurements=n,s.problemGroup=o,s.id=i,s.isManual=e,s},o.CreateSimpleException=function(e,t,r,n,a,o){var i;return{exceptions:[((i={})[_DYN_HAS_FULL_STACK]=!0,i.message=e,i.stack=a,i.typeName=t,i)]}},o.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",o.dataType="ExceptionData",o.formatError=_formatErrorCode,o}(),_ExceptionDetails=function(){function n(t,e,r){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var n,a,o=this;_isExceptionDetailsInternal(e)?(o[_DYN_TYPE_NAME]=e[_DYN_TYPE_NAME],o[_DYN_MESSAGE]=e[_DYN_MESSAGE],o[strStack]=e[strStack],o[_DYN_PARSED_STACK]=e[_DYN_PARSED_STACK]||[],o[_DYN_HAS_FULL_STACK]=e[_DYN_HAS_FULL_STACK]):(a=(n=e)&&n.evt,isError(n)||(n=n[strError]||a||n),o[_DYN_TYPE_NAME]=dataSanitizeString(t,_getErrorType(n))||strNotSpecified,o[_DYN_MESSAGE]=dataSanitizeMessage(t,_formatMessage(e||n,o[_DYN_TYPE_NAME]))||strNotSpecified,a=e[strStackDetails]||_getStackFromErrorObj(e),o[_DYN_PARSED_STACK]=_parseStack(a),isArray(o[_DYN_PARSED_STACK])&&arrMap(o[_DYN_PARSED_STACK],function(e){e[_DYN_ASSEMBLY]=dataSanitizeString(t,e[_DYN_ASSEMBLY]),e[_DYN_FILE_NAME]=dataSanitizeString(t,e[_DYN_FILE_NAME])}),o[strStack]=dataSanitizeException(t,_formatStackTrace(a)),o.hasFullStack=isArray(o.parsedStack)&&0<o.parsedStack[_DYN_LENGTH],r&&(r[_DYN_TYPE_NAME]=r[_DYN_TYPE_NAME]||o[_DYN_TYPE_NAME]))}return n.prototype.toInterface=function(){var e=this,t=e[_DYN_PARSED_STACK]instanceof Array&&arrMap(e[_DYN_PARSED_STACK],function(e){return e.toInterface()});return(e={id:e.id,outerId:e.outerId,typeName:e[_DYN_TYPE_NAME],message:e[_DYN_MESSAGE],hasFullStack:e[_DYN_HAS_FULL_STACK],stack:e[strStack]})[_DYN_PARSED_STACK]=t||undefined,e},n.CreateFromInterface=function(e,t){var r=t[_DYN_PARSED_STACK]instanceof Array&&arrMap(t[_DYN_PARSED_STACK],function(e){return _StackFrame[_DYN__CREATE_FROM_INTERFA1](e)})||t[_DYN_PARSED_STACK];return new n(e,__assignFn(__assignFn({},t),{parsedStack:r}))},n}(),_StackFrame=function(){function a(e,t){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var r,n=this;n[_DYN_SIZE_IN_BYTES]=0,"string"==typeof e?(r=e,n[_DYN_LEVEL]=t,n[_DYN_METHOD]=NoMethod,n[_DYN_ASSEMBLY]=strTrim(r),n[_DYN_FILE_NAME]="",n[_DYN_LINE]=0,(t=r.match(a.regex))&&5<=t[_DYN_LENGTH]&&(n[_DYN_METHOD]=strTrim(t[2])||n[_DYN_METHOD],n[_DYN_FILE_NAME]=strTrim(t[4]),n[_DYN_LINE]=parseInt(t[5])||0)):(n[_DYN_LEVEL]=e[_DYN_LEVEL],n[_DYN_METHOD]=e[_DYN_METHOD],n[_DYN_ASSEMBLY]=e[_DYN_ASSEMBLY],n[_DYN_FILE_NAME]=e[_DYN_FILE_NAME],n[_DYN_LINE]=e[_DYN_LINE],n[_DYN_SIZE_IN_BYTES]=0),n.sizeInBytes+=n.method[_DYN_LENGTH],n.sizeInBytes+=n.fileName[_DYN_LENGTH],n.sizeInBytes+=n.assembly[_DYN_LENGTH],n[_DYN_SIZE_IN_BYTES]+=a.baseSize,n.sizeInBytes+=n.level.toString()[_DYN_LENGTH],n.sizeInBytes+=n.line.toString()[_DYN_LENGTH]}return a.CreateFromInterface=function(e){return new a(e,null)},a.prototype.toInterface=function(){var e=this;return{level:e[_DYN_LEVEL],method:e[_DYN_METHOD],assembly:e[_DYN_ASSEMBLY],fileName:e[_DYN_FILE_NAME],line:e[_DYN_LINE]}},a.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,a.baseSize=58,a}(),DataPoint=function(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0},Metric=function(){function e(e,t,r,n,a,o,i,s,_){this.aiDataContract={ver:1,metrics:1,properties:0},this.ver=2;var c=new DataPoint;c[_DYN_COUNT]=0<n?n:undefined,c.max=isNaN(o)||null===o?undefined:o,c.min=isNaN(a)||null===a?undefined:a,c[_DYN_NAME]=dataSanitizeString(e,t)||strNotSpecified,c.value=r,c.stdDev=isNaN(i)||null===i?undefined:i,this.metrics=[c],this[_DYN_PROPERTIES]=dataSanitizeProperties(e,s),this[_DYN_MEASUREMENTS]=dataSanitizeMeasurements(e,_)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}(),strEmpty="";function stringToBoolOrDefault(e,t){return void 0===t&&(t=!1),e===undefined||null===e?t:"true"===e.toString()[_DYN_TO_LOWER_CASE]()}function msToTimeSpan(e){var t=strEmpty+Math.floor((e=Math.round(e=isNaN(e)||e<0?0:e))/1e3)%60,r=strEmpty+Math.floor(e/6e4)%60,n=strEmpty+Math.floor(e/36e5)%24,a=Math.floor(e/864e5),e=1===(e=strEmpty+e%1e3)[_DYN_LENGTH]?"00"+e:2===e[_DYN_LENGTH]?"0"+e:e,t=t[_DYN_LENGTH]<2?"0"+t:t,r=r[_DYN_LENGTH]<2?"0"+r:r,n=n[_DYN_LENGTH]<2?"0"+n:n;return(0<a?a+".":strEmpty)+n+":"+r+":"+t+"."+e}function getExtensionByName(e,t){var r=null;return arrForEach(e,function(e){if(e.identifier===t)return r=e,-1}),r}function isCrossOriginError(e,t,r,n,a){return!a&&isString(e)&&("Script error."===e||"Script error"===e)}var PageView=function(){function e(e,t,r,n,a,o,i){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var s=this;s.ver=2,s.id=dataSanitizeId(e,i),s.url=dataSanitizeUrl(e,r),s[_DYN_NAME]=dataSanitizeString(e,t)||strNotSpecified,isNaN(n)||(s[_DYN_DURATION]=msToTimeSpan(n)),s[_DYN_PROPERTIES]=dataSanitizeProperties(e,a),s[_DYN_MEASUREMENTS]=dataSanitizeMeasurements(e,o)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}(),RemoteDependencyData=function(){function e(e,t,r,n,a,o,i,s,_,c,u,l){void 0===_&&(_="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var N=this,t=(N.ver=2,N.id=t,N[_DYN_DURATION]=msToTimeSpan(a),N.success=o,N.resultCode=i+"",N.type=dataSanitizeString(e,_),AjaxHelperParseDependencyPath(e,r,s,n));N.data=dataSanitizeUrl(e,n)||t.data,N.target=dataSanitizeString(e,t.target),c&&(N.target="".concat(N.target," | ").concat(c)),N[_DYN_NAME]=dataSanitizeString(e,t[_DYN_NAME]),N[_DYN_PROPERTIES]=dataSanitizeProperties(e,u),N[_DYN_MEASUREMENTS]=dataSanitizeMeasurements(e,l)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}(),Trace=function(){function e(e,t,r,n,a){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var o=this;o.ver=2,o[_DYN_MESSAGE]=dataSanitizeMessage(e,t=t||strNotSpecified),o[_DYN_PROPERTIES]=dataSanitizeProperties(e,n),o[_DYN_MEASUREMENTS]=dataSanitizeMeasurements(e,a),r&&(o[_DYN_SEVERITY_LEVEL]=r)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}(),PageViewPerformance=function(){function e(e,t,r,n,a,o,i){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var s=this;s.ver=2,s.url=dataSanitizeUrl(e,r),s[_DYN_NAME]=dataSanitizeString(e,t)||strNotSpecified,s[_DYN_PROPERTIES]=dataSanitizeProperties(e,a),s[_DYN_MEASUREMENTS]=dataSanitizeMeasurements(e,o),i&&(s.domProcessing=i.domProcessing,s[_DYN_DURATION]=i[_DYN_DURATION],s.networkConnect=i.networkConnect,s.perfTotal=i.perfTotal,s[_DYN_RECEIVED_RESPONSE]=i[_DYN_RECEIVED_RESPONSE],s.sentRequest=i.sentRequest)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}(),Data=function(e,t){this.aiDataContract={baseType:1,baseData:1},this.baseType=e,this.baseData=t},SeverityLevel=createEnumStyle({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),ConfigurationManager=function(){function e(){}return e.getConfig=function(e,t,r,n){return void 0===n&&(n=!1),r=(r&&e[_DYN_EXTENSION_CONFIG]&&e[_DYN_EXTENSION_CONFIG][r]&&!isNullOrUndefined(e[_DYN_EXTENSION_CONFIG][r][t])?e[_DYN_EXTENSION_CONFIG][r]:e)[t],isNullOrUndefined(r)?n:r},e}();function _aiNameFunc(e){var t="ai."+e+".";return function(e){return t+e}}var _aiApplication=_aiNameFunc("application"),_aiDevice=_aiNameFunc("device"),_aiLocation=_aiNameFunc("location"),_aiOperation=_aiNameFunc("operation"),_aiSession=_aiNameFunc("session"),_aiUser=_aiNameFunc("user"),_aiCloud=_aiNameFunc("cloud"),_aiInternal=_aiNameFunc("internal"),ContextTagKeys=function(e){function t(){return e.call(this)||this}return __extendsFn(t,e),t}(createClassFromInterface({applicationVersion:_aiApplication("ver"),applicationBuild:_aiApplication("build"),applicationTypeId:_aiApplication("typeId"),applicationId:_aiApplication("applicationId"),applicationLayer:_aiApplication("layer"),deviceId:_aiDevice("id"),deviceIp:_aiDevice("ip"),deviceLanguage:_aiDevice("language"),deviceLocale:_aiDevice("locale"),deviceModel:_aiDevice("model"),deviceFriendlyName:_aiDevice("friendlyName"),deviceNetwork:_aiDevice("network"),deviceNetworkName:_aiDevice("networkName"),deviceOEMName:_aiDevice("oemName"),deviceOS:_aiDevice("os"),deviceOSVersion:_aiDevice("osVersion"),deviceRoleInstance:_aiDevice("roleInstance"),deviceRoleName:_aiDevice("roleName"),deviceScreenResolution:_aiDevice("screenResolution"),deviceType:_aiDevice("type"),deviceMachineName:_aiDevice("machineName"),deviceVMName:_aiDevice("vmName"),deviceBrowser:_aiDevice("browser"),deviceBrowserVersion:_aiDevice("browserVersion"),locationIp:_aiLocation("ip"),locationCountry:_aiLocation("country"),locationProvince:_aiLocation("province"),locationCity:_aiLocation("city"),operationId:_aiOperation("id"),operationName:_aiOperation("name"),operationParentId:_aiOperation("parentId"),operationRootId:_aiOperation("rootId"),operationSyntheticSource:_aiOperation("syntheticSource"),operationCorrelationVector:_aiOperation("correlationVector"),sessionId:_aiSession("id"),sessionIsFirst:_aiSession("isFirst"),sessionIsNew:_aiSession("isNew"),userAccountAcquisitionDate:_aiUser("accountAcquisitionDate"),userAccountId:_aiUser("accountId"),userAgent:_aiUser("userAgent"),userId:_aiUser("id"),userStoreRegion:_aiUser("storeRegion"),userAuthUserId:_aiUser("authUserId"),userAnonymousUserAcquisitionDate:_aiUser("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:_aiUser("authUserAcquisitionDate"),cloudName:_aiCloud("name"),cloudRole:_aiCloud("role"),cloudRoleVer:_aiCloud("roleVer"),cloudRoleInstance:_aiCloud("roleInstance"),cloudEnvironment:_aiCloud("environment"),cloudLocation:_aiCloud("location"),cloudDeploymentUnit:_aiCloud("deploymentUnit"),internalNodeName:_aiInternal("nodeName"),internalSdkVersion:_aiInternal("sdkVersion"),internalAgentVersion:_aiInternal("agentVersion"),internalSnippet:_aiInternal("snippet"),internalSdkSrc:_aiInternal("sdkSrc")}));function createTelemetryItem(e,t,r,n,a,o){r=dataSanitizeString(n,r)||strNotSpecified,(isNullOrUndefined(e)||isNullOrUndefined(t)||isNullOrUndefined(r))&&throwError("Input doesn't contain all required fields");var i,n="",s=(e[strIkey]&&(n=e[strIkey],delete e[strIkey]),(i={})[_DYN_NAME]=r,i.time=toISOString(new Date),i.iKey=n,i.ext=o||{},i.tags=[],i.data={},i.baseType=t,i.baseData=e,i);return isNullOrUndefined(a)||objForEachKey(a,function(e,t){s.data[e]=t}),s}var TelemetryItemCreator=function(){function e(){}return e.create=createTelemetryItem,e}(),Extensions={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},CtxTagKeys=new ContextTagKeys;function createDomEvent(e){var t,r=null;return isFunction(Event)?r=new Event(e):(t=getDocument())&&t.createEvent&&(r=t.createEvent("Event")).initEvent(e,!0,!0),r}function _disableEvents(e,t){eventOff(e,null,null,t)}function createOfflineListener(e){var t,r=getDocument(),n=getNavigator(),a=!1,o=[],i=1,s=(!n||isNullOrUndefined(n.onLine)||n.onLine||(i=2),0),_=l(),c=mergeEvtNamespace(createUniqueNamespace("OfflineListener"),e);try{u(getWindow())&&(a=!0),r&&(t=r.body||r).ononline&&u(t)&&(a=!0)}catch(d){a=!1}function u(e){var t=!1;return e&&(t=eventOn(e,"online",E,c))&&eventOn(e,"offline",f,c),t}function l(){return 2!==s&&2!==i}function N(){var e=l();_!==e&&(_=e,arrForEach(o,function(e){var t={isOnline:_,rState:i,uState:s};try{e(t)}catch(d){}}))}function E(){i=1,N()}function f(){i=2,N()}return{isOnline:function(){return _},isListening:function(){return a},unload:function(){var e=getWindow();e&&a&&(_disableEvents(e,c),r&&!isUndefined((e=r.body||r).ononline)&&_disableEvents(e,c),a=!1)},addListener:function(t){return o[_DYN_PUSH](t),{rm:function(){var e=o.indexOf(t);if(-1<e)return o.splice(e,1)}}},setOnlineState:function(e){s=e,N()}}}var PropertiesPluginIdentifier="AppInsightsPropertiesPlugin",BreezeChannelIdentifier="AppInsightsChannelPlugin",AnalyticsPluginIdentifier="ApplicationInsightsAnalytics";exports.AnalyticsPluginIdentifier=AnalyticsPluginIdentifier,exports.BreezeChannelIdentifier=BreezeChannelIdentifier,exports.ConfigurationManager=ConfigurationManager,exports.ConnectionStringParser=ConnectionStringParser,exports.ContextTagKeys=ContextTagKeys,exports.CtxTagKeys=CtxTagKeys,exports.DEFAULT_BREEZE_ENDPOINT=DEFAULT_BREEZE_ENDPOINT,exports.DEFAULT_BREEZE_PATH=DEFAULT_BREEZE_PATH,exports.Data=Data,exports.DisabledPropertyName=DisabledPropertyName,exports.DistributedTracingModes=DistributedTracingModes,exports.Envelope=Envelope,exports.Event=Event$1,exports.EventPersistence=EventPersistence,exports.Exception=Exception,exports.Extensions=Extensions,exports.HttpMethod=HttpMethod,exports.Metric=Metric,exports.PageView=PageView,exports.PageViewPerformance=PageViewPerformance,exports.ProcessLegacy=ProcessLegacy,exports.PropertiesPluginIdentifier=PropertiesPluginIdentifier,exports.RemoteDependencyData=RemoteDependencyData,exports.RequestHeaders=RequestHeaders,exports.SampleRate=SampleRate,exports.SeverityLevel=SeverityLevel,exports.TelemetryItemCreator=TelemetryItemCreator,exports.ThrottleMgr=ThrottleMgr,exports.Trace=Trace,exports.correlationIdCanIncludeCorrelationHeader=correlationIdCanIncludeCorrelationHeader,exports.correlationIdGetCorrelationContext=correlationIdGetCorrelationContext,exports.correlationIdGetCorrelationContextValue=correlationIdGetCorrelationContextValue,exports.correlationIdGetPrefix=correlationIdGetPrefix,exports.correlationIdSetPrefix=correlationIdSetPrefix,exports.createDistributedTraceContextFromTrace=createDistributedTraceContextFromTrace,exports.createDomEvent=createDomEvent,exports.createOfflineListener=createOfflineListener,exports.createTelemetryItem=createTelemetryItem,exports.createTraceParent=createTraceParent,exports.dataSanitizeException=dataSanitizeException,exports.dataSanitizeId=dataSanitizeId,exports.dataSanitizeInput=dataSanitizeInput,exports.dataSanitizeKey=dataSanitizeKey,exports.dataSanitizeKeyAndAddUniqueness=dataSanitizeKeyAndAddUniqueness,exports.dataSanitizeMeasurements=dataSanitizeMeasurements,exports.dataSanitizeMessage=dataSanitizeMessage,exports.dataSanitizeProperties=dataSanitizeProperties,exports.dataSanitizeString=dataSanitizeString,exports.dataSanitizeUrl=dataSanitizeUrl,exports.dateTimeUtilsDuration=dateTimeUtilsDuration,exports.dateTimeUtilsNow=dateTimeUtilsNow,exports.dsPadNumber=dsPadNumber,exports.findW3cTraceParent=findW3cTraceParent,exports.formatTraceParent=formatTraceParent,exports.getExtensionByName=getExtensionByName,exports.isBeaconApiSupported=isBeaconsSupported,exports.isCrossOriginError=isCrossOriginError,exports.isInternalApplicationInsightsEndpoint=isInternalApplicationInsightsEndpoint,exports.isSampledFlag=isSampledFlag,exports.isValidSpanId=isValidSpanId,exports.isValidTraceId=isValidTraceId,exports.isValidTraceParent=isValidTraceParent,exports.msToTimeSpan=msToTimeSpan,exports.parseConnectionString=parseConnectionString,exports.parseTraceParent=parseTraceParent,exports.strNotSpecified=strNotSpecified,exports.stringToBoolOrDefault=stringToBoolOrDefault,exports.urlGetAbsoluteUrl=urlGetAbsoluteUrl,exports.urlGetCompleteUrl=urlGetCompleteUrl,exports.urlGetPathName=urlGetPathName,exports.urlParseFullHost=urlParseFullHost,exports.urlParseHost=urlParseHost,exports.urlParseUrl=urlParseUrl,exports.utlCanUseLocalStorage=utlCanUseLocalStorage,exports.utlCanUseSessionStorage=utlCanUseSessionStorage,exports.utlDisableStorage=utlDisableStorage,exports.utlEnableStorage=utlEnableStorage,exports.utlGetLocalStorage=utlGetLocalStorage,exports.utlGetSessionStorage=utlGetSessionStorage,exports.utlGetSessionStorageKeys=utlGetSessionStorageKeys,exports.utlRemoveSessionStorage=utlRemoveSessionStorage,exports.utlRemoveStorage=utlRemoveStorage,exports.utlSetLocalStorage=utlSetLocalStorage,exports.utlSetSessionStorage=utlSetSessionStorage,exports.utlSetStoragePrefix=utlSetStoragePrefix;
//# sourceMappingURL=applicationinsights-common.cjs.min.js.map
